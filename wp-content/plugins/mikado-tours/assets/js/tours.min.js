!function(t){"use strict";function e(){a().fieldsHelper.init(),r()}function n(){}function i(){}function o(){}function a(){var e=t(".mkdf-tours-filter-holder.mkdf-tours-filter-horizontal form");return{fieldsHelper:function(){var t=function(){var t="undefined"!=typeof mkdfToursSearchData?mkdfToursSearchData.destinations:[],t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:t});e.find(".mkdf-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:t})};return{init:function(){t()}}}()}}function r(){var e=t(".mkdf-tours-destination-masonry-carousel");e.length&&e.each(function(){var e=t(this),n=e.find(".mkdf-tdm-carousel"),i=n.find("> div").length,o=e.find(".mkdf-tours-row-inner-holder").width(),a=e.find(".mkdf-tdm-item-holder"),r=n.data("number-of-items"),d=r,s=!0,f=!0,l=!1,u=!0,m=!0,c=!0;a.length&&a.each(function(e){var n=t(this),i=0;i=4==r?mkdf.windowWidth<=1280?(e+1)%4==0?o/4:(e+1)%2==0?o/2:o/4:(e+1)%4==0?o/5:(e+1)%2==0?o/5*2:o/5:(e+1)%2==0?o/2:o/4,mkdf.windowWidth<=768&&(i=o),n.css("width",Math.round(i))}),"yes"===n.data("enable-pagination")&&(l=!0),i<=d&&(f=!1,s=!1,!1,l=!1,u=!1,m=!1,c=!1);var h=function(e){var n=e.find(".owl-item"),i=0;n.each(function(){var e=t(this);i+=Math.ceil(e.width())}),0!=i&&e.find(".owl-stage").css("width",i)};n.owlCarousel({items:d,loop:f,autoplay:s,autoplayHoverPause:!0,autoplayTimeout:5e3,smartSpeed:600,margin:0,stagePadding:0,center:!1,autoWidth:!0,mouseDrag:u,touchDrag:m,pullDrag:c,dots:l,nav:!0,navText:['<span class="mkdf-prev-icon lnr lnr-chevron-left"></span>','<span class="mkdf-next-icon lnr lnr-chevron-right"></span>'],onInitialize:function(){n.css("visibility","visible")},onInitialized:function(){h(n)},onDrag:function(t){if(mkdf.body.hasClass("mkdf-smooth-page-transitions-fadeout")){t.isTrigger>0&&n.addClass("mkdf-slider-is-moving")}},onDragged:function(){mkdf.body.hasClass("mkdf-smooth-page-transitions-fadeout")&&n.hasClass("mkdf-slider-is-moving")&&setTimeout(function(){n.removeClass("mkdf-slider-is-moving")},500)}})})}var d={};"undefined"!=typeof mkdf&&(mkdf.modules.destinations=d),d.mkdfOnDocumentReady=e,d.mkdfOnWindowLoad=n,d.mkdfOnWindowResize=i,d.mkdfOnWindowScroll=o,t(document).ready(e),t(window).load(n),t(window).resize(i),t(window).scroll(o)}(jQuery),function(t){"use strict";function e(){s(),"undefined"!=typeof mkdf&&f(),r(),d(),u(),m().fieldsHelper.init(),m().handleSearch.init(),c(),h()}function n(){k()}function i(){r(),h()}function o(){}function a(t,e){if(e.hasClass("mkdf-tours-gallery-images-fixed")){var n=parseInt(e.find(".mkdf-tour-gallery-item").css("padding-left")),i=e.find(".mkdf-tgi-masonry-default"),o=e.find(".mkdf-tgi-masonry-large-width"),a=e.find(".mkdf-tgi-masonry-large-height"),r=e.find(".mkdf-tgi-masonry-large-width-height");mkdf.windowWidth>680?(i.css("height",t-2*n),a.css("height",Math.round(2*t)-2*n),r.css("height",Math.round(2*t)-2*n),o.css("height",t-2*n)):(i.css("height",t),a.css("height",2*t),r.css("height",t),o.css("height",Math.round(t/2)))}}function r(){var e=t(".mkdf-tour-masonry-gallery-holder .mkdf-tour-masonry-gallery");e.length&&e.each(function(){var e=t(this);a(e.find(".mkdf-tour-grid-sizer").width(),e),e.waitForImages(function(){e.isotope({layoutMode:"packery",itemSelector:".mkdf-tour-gallery-item",percentPosition:!0,packery:{gutter:".mkdf-tour-grid-gutter",columnWidth:".mkdf-tour-grid-sizer"}}),e.css("opacity","1")})})}function d(){t(".mkdf-tour-item-single-holder").find(".mkdf-single-tour-nav-holder ul li a").on("click",function(){"tour-item-gallery-id"===t(this).attr("href")&&r()})}function s(){var e=t(".mkdf-tour-item-single-holder"),n=e.find(".mkdf-tour-tabs-nav li a"),i=e.find(".mkdf-tour-item-section");n.first().parent().addClass("mkdf-active-item"),n.on("click",function(e){e.preventDefault(),n.parent().removeClass("mkdf-active-item");var o=t(this),a=o.attr("href");o.parent().addClass("mkdf-active-item"),i.length&&i.each(function(){var e=t(this);e.attr("id")===a?(e.show(),"tour-item-location-id"===a&&l()):e.hide()})})}function f(){t(".mkdf-tour-item-single-holder").find(".mkdf-single-tour-nav-holder ul li a").on("click",function(){"tour-item-location-id"===t(this).attr("href")&&l()})}function l(){"undefined"!=typeof mkdf&&""!=typeof mkdf&&mkdf.modules.googleMap.mkdfShowGoogleMap()}function u(){var e=t(".mkdf-tour-reviews-input-wrapper");if(e.length){var n=function(e){e.find(".mkdf-tour-reviews-star-holder").mouseenter(function(){t(this).add(t(this).prevAll()).find(".mkdf-tour-reviews-star").removeClass("icon_star_alt").addClass("icon_star"),t(this).nextAll().find(".mkdf-tour-reviews-star").removeClass("icon_star").addClass("icon_star_alt")}).click(function(){e.find(".mkdf-tour-reviews-hidden-input").val(t(this).index()+1)}),e.find(".mkdf-tour-reviews-rating-holder").mouseleave(function(){var n=e.find(".mkdf-tour-reviews-hidden-input").val();n=""===n?0:parseInt(n,10),t(this).find(".mkdf-tour-reviews-star-holder").each(function(e){t(this).find(".mkdf-tour-reviews-star").removeClass(e<n?"icon_star_alt":"icon_star").addClass(e<n?"icon_star":"icon_star_alt")})}).trigger("mouseleave")};e.each(function(){t(this).find(".mkdf-tour-reviews-criteria-holder").each(function(){n(t(this))})})}}function m(){var e=t(".mkdf-tours-search-main-filters-holder form");return{fieldsHelper:function(){var n=function(){var t=e.find(".mkdf-tours-range-input"),n=e.find(".mkdf-tours-price-range-field"),i=e.find('[name="min_price"]'),o=e.find('[name="max_price"]'),a=n.data("min-price"),r=n.data("max-price"),d=n.data("chosen-min-price"),s=n.data("chosen-max-price");t.length&&t.each(function(){var t=this;noUiSlider.create(t,{start:[d,s],connect:!0,step:1,range:{min:[a],max:[r]},format:{to:function(t){return Math.floor(t)},from:function(t){return t}}}).on("update",function(t){var e=t[0],a=t[1],r=n.data("currency-symbol"),d=n.data("currency-symbol-position"),s="left"===d?r+e:e+r,f="left"===d?r+a:e+a;n.val(s+" - "+f),i.val(e),o.val(a)})})},i=function(){var t="undefined"!=typeof mkdfToursSearchData?mkdfToursSearchData.tours:[],t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:t});e.find(".mkdf-tours-keyword-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"tours",source:t})},o=function(){var t="undefined"!=typeof mkdfToursSearchData?mkdfToursSearchData.destinations:[],t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:t});e.find(".mkdf-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:t})},a=function(){var e=t(".mkdf-tours-select-placeholder"),n=function(t){""===t.val()?t.addClass("mkdf-tours-select-default-option"):t.removeClass("mkdf-tours-select-default-option")};e.length&&e.each(function(){var e=t(this);n(t(this)),e.on("change",function(){n(t(this))})})};return{init:function(){n(),i(),o(),a()}}}(),handleSearch:function(){var n=function(t){var e="";location.href.match(/\?.*/)&&document.referrer&&(e=location.href.replace(/\?.*/,"")),window.history.replaceState({page:e+"?"+t},"",e+"?"+t)},i=function(e,i,o,a){var r=e.find('input[type="submit"]'),d=t(".mkdf-tours-search-content"),s=t(".mkdf-tours-search-page-holder"),f=!1;i=void 0===i||i,o=void 0===o||o,a=void 0!==a&&a;var l=r.data("searching-label"),u=r.val();if(!f){i&&r.val(l),o&&e.find('[name="page"]').val(1),f=!0,d.addClass("mkdf-tours-searching");var m={action:"tours_search_handle_form_submission"};m.fields=e.serialize(),t.ajax({type:"GET",url:mkdfGlobalVars.vars.mkdfAjaxUrl,dataType:"json",data:m,success:function(e){i&&r.val(u),d.removeClass("mkdf-tours-searching"),f=!1,d.find(".mkdf-tours-row .mkdf-tours-row-inner-holder").html(e.html),n(e.url),t(".mkdf-tours-search-pagination").remove(),d.append(e.paginationHTML),a&&t("html, body").animate({scrollTop:s.offset().top-80},700),c()}})}},o=function(e){t("body").hasClass("post-type-archive-tour-item")&&e.on("submit",function(t){t.preventDefault(),t.stopPropagation(),i(e)})},a=function(e){var n=t(".mkdf-search-ordering-item"),o=e.find('[name="order_by"]'),a=e.find('[name="order_type"]');n.length&&n.on("click",function(r){r.preventDefault(),r.stopPropagation();var d=t(this);n.removeClass("mkdf-search-ordering-item-active"),d.addClass("mkdf-search-ordering-item-active");var s=d.data("order-by"),f=d.data("order-type");void 0!==s&&void 0!==f&&(o.val(s),a.val(f)),i(e,!1,!1)})},r=function(e){var n=t(".mkdf-tours-search-view-item"),o=e.find('[name="view_type"]');n.length&&n.on("click",function(a){a.preventDefault(),a.stopPropagation();var r=t(this);n.removeClass("mkdf-tours-search-view-item-active"),r.addClass("mkdf-tours-search-view-item-active");var d=r.data("type");void 0!==d&&o.val(d),i(e,!1,!1)})},d=function(e){var n=t(".mkdf-tours-search-pagination"),o=e.find('[name="page"]');n.length&&t(document).on("click",".mkdf-tours-search-pagination li",function(n){n.preventDefault(),n.stopPropagation();var a=t(this),r=a.data("page");void 0!==r&&o.val(r),i(e,!0,!1,!0)})};return{init:function(){o(e),a(e),r(e),d(e)}}}()}}function c(){var e=t(".mkdf-tours-revealing-item");e.length&&e.each(function(){var e=t(this),n=e.find(".mkdf-tours-revealing-item-content-holder"),i=n.find(".mkdf-tours-revealing-item-excerpt"),o=Math.ceil(i.height());n.css("transform","translate3d(0,"+o+"px,0)"),e.mouseenter(function(){n.css("transform","translate3d(0,0,0)")}),e.mouseleave(function(){o=Math.ceil(i.height()),n.css("transform","translate3d(0,"+o+"px,0)")})})}function h(){var e,n=t(".mkdf-tours-single-title"),i=t(".mkdf-wrapper-inner > .mkdf-content");n.length&&(e=mkdf.windowHeight,e-=i.offset().top,n.css("height",e))}function k(){var e=t(".mkdf-tours-single-scroll-down");if(e.length){var n=t(".mkdf-tour-item-single-holder"),i=0,o=t(".mkdf-fixed-wrapper"),a=t(".mkdf-sticky-header");mkdf.htmlEl.hasClass("touch")||(o.length?i=o.height():a.length&&(i=a.height())),e.on("click",function(){t("html, body").animate({scrollTop:n.offset().top-i},1e3,"easeInOutExpo")})}}var v={};"undefined"!=typeof mkdf&&(mkdf.modules.tours=v),v.mkdfOnDocumentReady=e,v.mkdfOnWindowLoad=n,v.mkdfOnWindowResize=i,v.mkdfOnWindowScroll=o,v.mkdfInitTourItemTabs=s,v.mkdfTourTabsMapTrigger=f,v.mkdfTourReviewsInit=u,v.mkdfToursScrollDown=k,v.mkdfToursRevealAnimation=c,t(document).ready(e),t(window).load(n),t(window).resize(i),t(window).scroll(o)}(jQuery),function(t){"use strict";function e(){}function n(){r().init()}function i(){}function o(){}function a(){return"undefined"!=typeof mkdf}function r(){var e,n=t(".mkdf-tours-list-holder"),i=function(t){t.animate({opacity:1}),e=t.isotope({percentPosition:!0,itemSelector:".mkdf-tours-row-item",transitionDuration:"0.4s",isInitLayout:!0,hiddenStyle:{opacity:0},visibleStyle:{opacity:1},masonry:{columnWidth:".mkdf-tours-list-grid-sizer"}}),a()&&mkdf.modules.common.mkdfInitParallax()},o=function(e){var n=e.find(".mkdf-tour-list-filter-item");n.on("click",function(i){i.preventDefault(),i.stopPropagation();var o=t(this),a=o.data("type");n.removeClass("mkdf-tour-list-current-filter"),o.addClass("mkdf-tour-list-current-filter"),a=void 0===a?"*":"."+a,e.find(".mkdf-tours-list-holder-inner").isotope({filter:a})})},r=function(t){var e=t.find(".mkdf-tour-list-filter-item");e.removeClass("mkdf-tour-list-current-filter"),e.eq(0).addClass("mkdf-tour-list-current-filter"),t.find(".mkdf-tours-list-holder-inner").isotope({filter:"*"})},d=function(e){var n=e.find(".mkdf-tours-list-pagination-data"),i=e.find(".mkdf-tours-list-holder-inner"),o=function(e){var i={action:"mkdf_tours_list_ajax_pagination",fields:n.find("input").serialize()};t.ajax({url:mkdfGlobalVars.vars.mkdfAjaxUrl,data:i,dataType:"json",type:"POST",success:function(t){t.havePosts&&n.find('[name="next_page"]').val(t.nextPage),a()&&mkdf.modules.common.mkdfInitParallax(),e.call(this,t)}})};!function(){var n=e.find(".mkdf-tours-load-more-button"),a=e.find(".mkdf-tours-pagination-holder"),d=!1;n.length&&n.on("click",function(s){s.preventDefault(),s.stopPropagation();var f=n.data("loading-label"),l=n.text();n.text(f),r(e),d||(d=!0,o(function(e){if(!0===e.havePosts){n.text(l);var o=t(e.html);i.append(o),i.waitForImages(function(){i.isotope("appended",o).isotope("reloadItems"),mkdf.modules.tours.mkdfToursRevealAnimation()}),e.maxPage<e.nextPage&&n.remove()}else n.remove(),a.html(e.message);d=!1}))})}()};return{init:function(){n.length&&void 0!==t.fn.isotope&&n.each(function(){i(t(this).find(".mkdf-tours-list-holder-inner")),o(t(this)),d(t(this))})}}}var d={};"undefined"!=typeof mkdf&&(mkdf.modules.tourShortcodes=d),d.mkdfOnDocumentReady=e,d.mkdfOnWindowLoad=n,d.mkdfOnWindowResize=i,d.mkdfOnWindowScroll=o,d.toursList=r,t(document).ready(e),t(window).load(n),t(window).resize(i),t(window).scroll(o)}(jQuery);