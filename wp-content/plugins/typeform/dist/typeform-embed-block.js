!function(){"use strict";const e=e=>{if(!e)return;const t=e.split("/");return t[t.length-1]};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(e,t){return e(t={exports:{}},t.exports),t.exports}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function u(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var c=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=u(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(o[l]=n[l]);if(i){r=i(n);for(var f=0;f<r.length;f++)s.call(n,r[f])&&(o[r[f]]=n[r[f]])}}return o},l="function"==typeof Symbol&&Symbol.for,f=l?Symbol.for("react.element"):60103,d=l?Symbol.for("react.portal"):60106,p=l?Symbol.for("react.fragment"):60107,h=l?Symbol.for("react.strict_mode"):60108,m=l?Symbol.for("react.profiler"):60114,v=l?Symbol.for("react.provider"):60109,y=l?Symbol.for("react.context"):60110,w=l?Symbol.for("react.forward_ref"):60112,g=l?Symbol.for("react.suspense"):60113,b=l?Symbol.for("react.memo"):60115,_=l?Symbol.for("react.lazy"):60116,E="function"==typeof Symbol&&Symbol.iterator;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function j(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||S}function P(){}function T(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||S}j.prototype.isReactComponent={},j.prototype.setState=function(e,t){if("object"!==n(e)&&"function"!=typeof e&&null!=e)throw Error(O(85));this.updater.enqueueSetState(this,e,t,"setState")},j.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},P.prototype=j.prototype;var A=T.prototype=new P;A.constructor=T,c(A,j.prototype),A.isPureReactComponent=!0;var I={current:null},R=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function L(e,t,n){var r,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)R.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:f,type:e,key:i,ref:a,props:o,_owner:I.current}}function N(e){return"object"===n(e)&&null!==e&&e.$$typeof===f}var M=/\/+/g,D=[];function k(e,t,n,r){if(D.length){var o=D.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function F(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function W(e,t,r){return null==e?0:function e(t,r,o,i){var a=n(t);"undefined"!==a&&"boolean"!==a||(t=null);var s=!1;if(null===t)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case f:case d:s=!0}}if(s)return o(i,t,""===r?"."+U(t,0):r),1;if(s=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+U(a=t[u],u);s+=e(a,c,o,i)}else if(null===t||"object"!==n(t)?c=null:c="function"==typeof(c=E&&t[E]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)s+=e(a=a.value,c=r+U(a,u++),o,i);else if("object"===a)throw o=""+t,Error(O(31,"[object Object]"===o?"object with keys {"+Object.keys(t).join(", ")+"}":o,""));return s}(e,"",t,r)}function U(e,t){return"object"===n(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function H(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?q(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:f,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n)),r.push(e))}function q(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(M,"$&/")+"/"),W(e,B,t=k(t,i,r,o)),F(t)}var z={current:null};function G(){var e=z.current;if(null===e)throw Error(O(321));return e}var $={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return q(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;W(e,H,t=k(null,null,t,n)),F(t)},count:function(e){return W(e,(function(){return null}),null)},toArray:function(e){var t=[];return q(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw Error(O(143));return e}},Component:j,Fragment:p,Profiler:m,PureComponent:T,StrictMode:h,Suspense:g,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:c},cloneElement:function(e,t,n){if(null==e)throw Error(O(267,e));var r=c({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)R.call(t,u)&&!x.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:f,type:e.type,key:o,ref:i,props:r,_owner:a}},createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:y,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:e},e.Consumer=e},createElement:L,createFactory:function(e){var t=L.bind(null,e);return t.type=e,t},createRef:function(){return{current:null}},forwardRef:function(e){return{$$typeof:w,render:e}},isValidElement:N,lazy:function(e){return{$$typeof:_,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:b,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return G().useCallback(e,t)},useContext:function(e,t){return G().useContext(e,t)},useDebugValue:function(){},useEffect:function(e,t){return G().useEffect(e,t)},useImperativeHandle:function(e,t,n){return G().useImperativeHandle(e,t,n)},useLayoutEffect:function(e,t){return G().useLayoutEffect(e,t)},useMemo:function(e,t){return G().useMemo(e,t)},useReducer:function(e,t,n){return G().useReducer(e,t,n)},useRef:function(e){return G().useRef(e)},useState:function(e){return G().useState(e)},version:"16.14.0"},Y=t((function(e,t){})),Z=(Y.Children,Y.Component,Y.Fragment,Y.Profiler,Y.PureComponent,Y.StrictMode,Y.Suspense,Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y.cloneElement,Y.createContext,Y.createElement,Y.createFactory,Y.createRef,Y.forwardRef,Y.isValidElement,Y.lazy,Y.memo,Y.useCallback,Y.useContext,Y.useDebugValue,Y.useEffect,Y.useImperativeHandle,Y.useLayoutEffect,Y.useMemo,Y.useReducer,Y.useRef,Y.useState,Y.version,t((function(e){e.exports=$}))),J=(Z.Children,Z.Component,Z.PropTypes,Z.createElement,function(e,t){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)}),K=function(){return(K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function V(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Q(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function X(e,t,n){var r,o,i,a,s;function u(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var c=function(){i=this,o=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(i,o),i=o=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}X.debounce=X;var ee=X,te="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ne(e,t){return e(t={exports:{}},t.exports),t.exports}var re,oe=ne((function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./node_modules/cross-domain-utils/src/constants.js":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={MOCK:"mock:",FILE:"file:",ABOUT:"about:"},o="*"},"./node_modules/cross-domain-utils/src/index.js":function(e,t,n){var r=n("./node_modules/cross-domain-utils/src/utils.js");n.d(t,"getActualDomain",(function(){return r.a})),n.d(t,"getAncestor",(function(){return r.b})),n.d(t,"getDomain",(function(){return r.c})),n.d(t,"getUserAgent",(function(){return r.d})),n.d(t,"isActuallySameDomain",(function(){return r.e})),n.d(t,"isAncestor",(function(){return r.f})),n.d(t,"isIframe",(function(){return r.g})),n.d(t,"isPopup",(function(){return r.h})),n.d(t,"isWindow",(function(){return r.i})),n.d(t,"isWindowClosed",(function(){return r.j})),n.d(t,"matchDomain",(function(){return r.k})),n.d(t,"stringifyDomainPattern",(function(){return r.l}));var o=n("./node_modules/cross-domain-utils/src/types.js");n.n(o),n("./node_modules/cross-domain-utils/src/constants.js")},"./node_modules/cross-domain-utils/src/types.js":function(e,t){},"./node_modules/cross-domain-utils/src/utils.js":function(e,t,n){function r(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var o=n("./node_modules/cross-domain-utils/src/constants.js");t.a=l,t.c=f,t.e=d,t.j=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==i}if(t&&function(e){if(!d(e))return!1;try{if(e===window)return!0;if(a(e)&&c(e))return!0;if(f(window)===f(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(m,e);if(-1!==n){var r=v[n];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;return!(!t||!t.documentElement||t.documentElement.contains(e))}(r))return!0}return!1},t.d=function(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent},t.b=y,t.f=function(e,t){var n=y(t);if(n)return n===e;if(t===e)return!1;if(function(e){if(e){try{if(e.top)return e.top}catch(e){}if(s(e)===e)return e;try{if(p(window,e)&&window.top)return window.top}catch(e){}try{if(p(e,window)&&window.top)return window.top}catch(e){}for(var t=0,n=function e(t){for(var n=[],r=0,o=h(t),i=null==o?0:o.length;r<i;r++){var a=o[r];n.push(a);for(var s=0,u=e(a),c=null==u?0:u.length;s<c;s++){var l=u[s];n.push(l)}}return n}(e),r=null==n?0:n.length;t<r;t++){var o=n[t];try{if(o.top)return o.top}catch(e){}if(s(o)===o)return o}}}(t)===t)return!1;for(var r=0,o=h(e),i=null==o?0:o.length;r<i;r++)if(o[r]===t)return!0;return!1},t.h=function(){return Boolean(u(window))},t.g=function(){return Boolean(s(window))},t.k=function e(t,n){if("string"==typeof t){if("string"==typeof n)return t===o.b||n===t;if(r(n))return!1;if(Array.isArray(n))return!1}return r(t)?r(n)?t.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(t)):!!Array.isArray(t)&&(Array.isArray(n)?JSON.stringify(t)===JSON.stringify(n):!r(n)&&t.some((function(t){return e(t,n)})))},t.l=function(e){return Array.isArray(e)?"("+e.join(" | ")+")":r(e)?"RegExp("+e.toString():e.toString()},t.i=function(e){try{if(e===window)return!0}catch(e){if(e&&e.message===i)return!0}try{if("[object Window]"===Object.prototype.toString.call(e))return!0}catch(e){if(e&&e.message===i)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===i)return!0}try{e&&e.__cross_domain_utils_window_check__}catch(e){return!0}return!1};var i="Call was rejected by callee.\r\n";function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.a.ABOUT}function s(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function u(e){if(e&&!s(e))try{return e.opener}catch(e){}}function c(e){try{return e&&e.location&&e.location.href,!0}catch(e){}return!1}function l(e){var t=(e=e||window).location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===o.a.FILE)return o.a.FILE+"//";if(n===o.a.ABOUT){var r=s(e);return r&&c(r)?l(r):o.a.ABOUT+"//"}var i=t.host;if(!i)throw new Error("Can not read window host");return n+"//"+i}function f(e){var t=l(e=e||window);return t&&e.mockDomain&&0===e.mockDomain.indexOf(o.a.MOCK)?e.mockDomain:t}function d(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(a(e)&&c(e))return!0}catch(e){}try{if(l(e)===l(window))return!0}catch(e){}return!1}function p(e,t){if(!e||!t)return!1;var n=s(t);return n?n===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function h(e){var t=[],n=void 0;try{n=e.frames}catch(t){n=e}var r=void 0;try{r=n.length}catch(e){}if(0===r)return t;if(r){for(var o=0;o<r;o++){var i=void 0;try{i=n[o]}catch(e){continue}t.push(i)}return t}for(var a=0;a<100;a++){var s=void 0;try{s=n[a]}catch(e){return t}if(!s)return t;t.push(s)}return t}var m=[],v=[];function y(e){return u(e=e||window)||s(e)||void 0}},"./src/index.js":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d({},"WeakMap",(function(){return l}));var o={};r.d(o,"cleanUpWindow",(function(){return re})),r.d(o,"Promise",(function(){return O})),r.d(o,"bridge",(function(){return oe})),r.d(o,"init",(function(){return ie})),r.d(o,"parent",(function(){return ne})),r.d(o,"send",(function(){return Y})),r.d(o,"request",(function(){return $})),r.d(o,"sendToParent",(function(){return Z})),r.d(o,"client",(function(){return J})),r.d(o,"on",(function(){return Q})),r.d(o,"listen",(function(){return V})),r.d(o,"once",(function(){return X})),r.d(o,"listener",(function(){return ee})),r.d(o,"CONFIG",(function(){return p})),r.d(o,"CONSTANTS",(function(){return f})),r.d(o,"disable",(function(){return te}));var i=r("./node_modules/cross-domain-utils/src/index.js");function a(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var s,u=Object.defineProperty,c=Date.now()%1e9,l=function(){function e(){if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),c+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+c,function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}return e.prototype._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(Object(i.isWindow)(r)&&Object(i.isWindowClosed)(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},e.prototype.isSafeToReadWrite=function(e){if(Object(i.isWindow)(e))return!1;try{e&&e.self,e&&e[this.name]}catch(e){return!1}return!0},e.prototype.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=this.name,o=e[r];o&&o[0]===e?o[1]=t:u(e,r,{value:[e,t],writable:!0})}else{this._cleanupClosedWindows();var i=this.keys,s=this.values,c=a(i,e);-1===c?(i.push(e),s.push(t)):s[c]=t}},e.prototype.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var n=a(this.keys,e);if(-1===n)return;return this.values[n]}var r=e[this.name];if(r&&r[0]===e)return r[1]},e.prototype.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}else{this._cleanupClosedWindows();var r=this.keys,o=a(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))}},e.prototype.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];return!(!n||n[0]!==e)}return this._cleanupClosedWindows(),-1!==a(this.keys,e)},e.prototype.getOrSet=function(e,t){if(this.has(e))return this.get(e);var n=t();return this.set(e,n),n},e}(),f={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",HELLO:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"},d={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},p=(Object.keys(d).map((function(e){return d[e]})),{ALLOW_POSTMESSAGE_POPUP:!("__ALLOW_POSTMESSAGE_POPUP__"in window)||window.__ALLOW_POSTMESSAGE_POPUP__,BRIDGE_TIMEOUT:5e3,CHILD_WINDOW_TIMEOUT:5e3,ACK_TIMEOUT:-1!==window.navigator.userAgent.match(/MSIE/i)?1e4:2e3,RES_TIMEOUT:-1,ALLOWED_POST_MESSAGE_METHODS:(s={},s[f.SEND_STRATEGIES.POST_MESSAGE]=!0,s[f.SEND_STRATEGIES.BRIDGE]=!0,s[f.SEND_STRATEGIES.GLOBAL]=!0,s),ALLOW_SAME_ORIGIN:!1});0===window.location.href.indexOf(f.FILE_PROTOCOL)&&(p.ALLOW_POSTMESSAGE_POPUP=!0);var h="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+Object.prototype.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,r=e&&e.message;if(n&&r)return-1!==n.indexOf(r)?n:r+"\n"+n;if(n)return n;if(r)return r}return"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}catch(e){return"Error while stringifying error: "+m(e,t+1)}}var v=function(e){if(!e)return e;var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}};function y(){}function w(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n>=100)throw new Error("Self-referential object passed, or object contained too many layers");var r=void 0;if("object"!==(void 0===e?"undefined":h(e))||null===e||Array.isArray(e)){if(!Array.isArray(e))throw new TypeError("Invalid type: "+(void 0===e?"undefined":h(e)));r=[]}else r={};return function(e,t){Array.isArray(e)?function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}(e,t):"object"===(void 0===e?"undefined":h(e))&&null!==e&&function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}(e,t)}(e,(function(e,o){var i=t(e,o);void 0!==i?r[o]=i:"object"===(void 0===e?"undefined":h(e))&&null!==e?r[o]=g(e,t,n+1):r[o]=e})),r}function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function _(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}function E(){var e=void 0;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof window)throw new TypeError("Can not find global");e=window}var t=e.__zalgopromise__=e.__zalgopromise__||{};return t.flushPromises=t.flushPromises||[],t.activeCount=t.activeCount||0,t.possiblyUnhandledPromiseHandlers=t.possiblyUnhandledPromiseHandlers||[],t.dispatchedErrors=t.dispatchedErrors||[],t}var O=function(){function e(t){var n=this;if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var r=void 0,o=void 0,i=!1,a=!1,s=!1;try{t((function(e){s?n.resolve(e):(i=!0,r=e)}),(function(e){s?n.reject(e):(a=!0,o=e)}))}catch(e){return void this.reject(e)}s=!0,i?this.resolve(r):a&&this.reject(o)}}return e.prototype.resolve=function(e){if(this.resolved||this.rejected)return this;if(_(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},e.prototype.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(_(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===E().dispatchedErrors.indexOf(e)){E().dispatchedErrors.push(e),setTimeout((function(){throw e}),1);for(var n=0;n<E().possiblyUnhandledPromiseHandlers.length;n++)E().possiblyUnhandledPromiseHandlers[n](e,t)}}(e,t)}),1),this.dispatch(),this},e.prototype.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},e.prototype.dispatch=function(){var t=this,n=this.dispatching,r=this.resolved,o=this.rejected,i=this.handlers;if(!n&&(r||o)){this.dispatching=!0,E().activeCount+=1;for(var a=function(n){var a=i[n],s=a.onSuccess,u=a.onError,c=a.promise,l=void 0;if(r)try{l=s?s(t.value):t.value}catch(e){return c.reject(e),"continue"}else if(o){if(!u)return c.reject(t.error),"continue";try{l=u(t.error)}catch(e){return c.reject(e),"continue"}}l instanceof e&&(l.resolved||l.rejected)?(l.resolved?c.resolve(l.value):c.reject(l.error),l.errorHandled=!0):_(l)?l instanceof e&&(l.resolved||l.rejected)?l.resolved?c.resolve(l.value):c.reject(l.error):l.then((function(e){c.resolve(e)}),(function(e){c.reject(e)})):c.resolve(l)},s=0;s<i.length;s++)a(s);i.length=0,this.dispatching=!1,E().activeCount-=1,0===E().activeCount&&e.flushQueue()}},e.prototype.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))},e.prototype.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},e.prototype.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(t){return t instanceof e?t:_(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.asyncReject=function(t){return(new e).asyncReject(t)},e.all=function(t){var n=new e,r=t.length,o=[];if(!r)return n.resolve(o),n;for(var i=function(i){var a=t[i];if(a instanceof e){if(a.resolved)return o[i]=a.value,r-=1,"continue"}else if(!_(a))return o[i]=a,r-=1,"continue";e.resolve(a).then((function(e){o[i]=e,0==(r-=1)&&n.resolve(o)}),(function(e){n.reject(e)}))},a=0;a<t.length;a++)i(a);return 0===r&&n.resolve(o),n},e.hash=function(t){var n={};return e.all(Object.keys(t).map((function(r){return e.resolve(t[r]).then((function(e){n[r]=e}))}))).then((function(){return n}))},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return function(e){return E().possiblyUnhandledPromiseHandlers.push(e),{cancel:function(){E().possiblyUnhandledPromiseHandlers.splice(E().possiblyUnhandledPromiseHandlers.indexOf(e),1)}}}(e)},e.try=function(t,n,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o=void 0;try{o=t.apply(n,r||[])}catch(t){return e.reject(t)}return e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||_(t)},e.flush=function(){var t=new e;return E().flushPromises.push(t),0===E().activeCount&&e.flushQueue(),t},e.flushQueue=function(){var e=E().flushPromises;E().flushPromises=[];for(var t=0,n=null==e?0:e.length;t<n;t++)e[t].resolve()},e}(),S=window[f.WINDOW_PROPS.POSTROBOT]=window[f.WINDOW_PROPS.POSTROBOT]||{};S.registerSelf=function(){};var C="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)};S.methods=S.methods||new l;var j=v((function(){S.on(f.POST_MESSAGE_NAMES.METHOD,{origin:f.WILDCARD},(function(e){var t=e.source,n=e.origin,r=e.data,o=S.methods.get(t);if(!o)throw new Error("Could not find any methods this window has privileges to call");var a=o[r.id];if(!a)throw new Error("Could not find method with id: "+r.id);if(!Object(i.matchDomain)(a.domain,n))throw new Error("Method domain "+a.domain+" does not match origin "+n);return O.try((function(){return a.method.apply({source:t,origin:n,data:r},r.args)})).then((function(e){return{result:e,id:r.id,name:r.name}}))}))}));function P(e,t){return"object"===(void 0===e?"undefined":C(e))&&null!==e&&e.__type__===t}function T(e,t,n,r){var o=w(),i=S.methods.get(e);return i||(i={},S.methods.set(e,i)),i[o]={domain:t,method:n},{__type__:f.SERIALIZATION_TYPES.METHOD,__id__:o,__name__:r}}function A(e,t,n){function r(){var r=Array.prototype.slice.call(arguments);return S.send(e,f.POST_MESSAGE_NAMES.METHOD,{id:n.__id__,name:n.__name__,args:r},{domain:t,timeout:-1}).then((function(e){return e.data.result}),(function(e){throw e}))}return r.__name__=n.__name__,r.__xdomain__=!0,r.source=e,r.origin=t,r}function I(e,t,n){return new O((function(r,o){return A(e,t,n.__then__)(r,o)}))}function R(e){return S.send(e,f.POST_MESSAGE_NAMES.HELLO,{},{domain:f.WILDCARD,timeout:-1}).then((function(e){return{origin:e.origin}}))}S.readyPromises=S.readyPromises||new l;var x={};x[f.SEND_STRATEGIES.POST_MESSAGE]=function(e,t,n){(Array.isArray(n)?n:"string"==typeof n?[n]:[f.WILDCARD]).map((function(t){if(0===t.indexOf(f.MOCK_PROTOCOL)){if(window.location.protocol===f.FILE_PROTOCOL)return f.WILDCARD;if(!Object(i.isActuallySameDomain)(e))throw new Error("Attempting to send messsage to mock domain "+t+", but window is actually cross-domain");return Object(i.getActualDomain)(e)}return 0===t.indexOf(f.FILE_PROTOCOL)?f.WILDCARD:t})).forEach((function(n){return e.postMessage(t,n)}))};var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function N(e,t,n){return O.try((function(){var r;if(t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=w(),o=Object(i.isPopup)()?f.WINDOW_TYPES.POPUP:Object(i.isIframe)()?f.WINDOW_TYPES.IFRAME:f.WINDOW_TYPES.FULLPAGE,a=Object(i.getDomain)(window);return L({},t,n,{sourceDomain:a,id:t.id||r,windowType:o})}(e,t,{data:function(e,n,r){return g({obj:t.data},(function(t,r){return"function"==typeof t?T(e,n,t,r.toString()):t instanceof Error?(o=t,{__type__:f.SERIALIZATION_TYPES.ERROR,__message__:m(o),__code__:o.code}):window.Promise&&t instanceof window.Promise?function(e,t,n,r){return{__type__:f.SERIALIZATION_TYPES.PROMISE,__then__:T(e,t,(function(e,t){return n.then(e,t)}),r+".then")}}(e,n,t,r.toString()):O.isPromise(t)?function(e,t,n,r){return{__type__:f.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:T(e,t,(function(e,t){return n.then(e,t)}),r+".then")}}(e,n,t,r.toString()):b(t)?(i=t,{__type__:f.SERIALIZATION_TYPES.REGEX,__source__:i.source}):void 0;var o,i})).obj}(e,n),domain:n}),e===window&&!p.ALLOW_SAME_ORIGIN)throw new Error("Attemping to send message to self");if(Object(i.isWindowClosed)(e))throw new Error("Window is closed");var o=[],a=function(e,t,n){var r=void 0,o=void 0;try{if("{}"!==JSON.stringify({})&&(r=Object.prototype.toJSON,delete Object.prototype.toJSON),"{}"!==JSON.stringify({}))throw new Error("Can not correctly serialize JSON objects");if("[]"!==JSON.stringify([])&&(o=Array.prototype.toJSON,delete Array.prototype.toJSON),"[]"!==JSON.stringify([]))throw new Error("Can not correctly serialize JSON objects")}catch(e){throw new Error("Can not repair JSON.stringify: "+e.message)}var i=JSON.stringify.call(this,e,null,2);try{r&&(Object.prototype.toJSON=r),o&&(Array.prototype.toJSON=o)}catch(e){throw new Error("Can not repair JSON.stringify: "+e.message)}return i}(((r={})[f.WINDOW_PROPS.POSTROBOT]=t,r));return O.map(Object.keys(x),(function(t){return O.try((function(){if(!p.ALLOWED_POST_MESSAGE_METHODS[t])throw new Error("Strategy disallowed: "+t);return x[t](e,a,n)})).then((function(){return o.push(t+": success"),!0}),(function(e){return o.push(t+": "+m(e)+"\n"),!1}))})).then((function(e){var n=e.some(Boolean),r=t.type+" "+t.name+" "+(n?"success":"error")+":\n  - "+o.join("\n  - ")+"\n";if(!n)throw new Error(r)}))}))}S.responseListeners=S.responseListeners||{},S.requestListeners=S.requestListeners||{},S.WINDOW_WILDCARD=S.WINDOW_WILDCARD||new function(){},S.erroredResponseListeners=S.erroredResponseListeners||{};var M,D="__domain_regex__";function k(e){return S.responseListeners[e]}function F(e){delete S.responseListeners[e]}function W(e){return Boolean(S.erroredResponseListeners[e])}function U(e){var t=e.name,n=e.win,r=e.domain;if(n===f.WILDCARD&&(n=null),r===f.WILDCARD&&(r=null),!t)throw new Error("Name required to get request listener");var o=S.requestListeners[t];if(o)for(var a=0,s=[n,S.WINDOW_WILDCARD],u=null==s?0:s.length;a<u;a++){var c=s[a],l=c&&o.get(c);if(l){if(r&&"string"==typeof r){if(l[r])return l[r];if(l[D])for(var d=0,p=l[D],h=null==p?0:p.length;d<h;d++){var m=p[d],v=m.regex,y=m.listener;if(Object(i.matchDomain)(v,r))return y}}if(l[f.WILDCARD])return l[f.WILDCARD]}}}var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=((M={})[f.POST_MESSAGE_TYPE.ACK]=function(e,t,n){if(!W(n.hash)){var r=k(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(i.matchDomain)(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());r.ack=!0}},M[f.POST_MESSAGE_TYPE.REQUEST]=function(e,t,n){var r=U({name:n.name,win:e,domain:t});function o(r){return n.fireAndForget||Object(i.isWindowClosed)(e)?O.resolve():N(e,H({target:n.originalSource,hash:n.hash,name:n.name},r),t)}return O.all([o({type:f.POST_MESSAGE_TYPE.ACK}),O.try((function(){if(!r)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(i.matchDomain)(r.domain,t))throw new Error("Request origin "+t+" does not match domain "+r.domain.toString());var o=n.data;return r.handler({source:e,origin:t,data:o})})).then((function(e){return o({type:f.POST_MESSAGE_TYPE.RESPONSE,ack:f.POST_MESSAGE_ACK.SUCCESS,data:e})}),(function(e){var t=m(e).replace(/^Error: /,""),n=e.code;return o({type:f.POST_MESSAGE_TYPE.RESPONSE,ack:f.POST_MESSAGE_ACK.ERROR,error:t,code:n})}))]).then(y).catch((function(e){if(r&&r.handleError)return r.handleError(e);throw e}))},M[f.POST_MESSAGE_TYPE.RESPONSE]=function(e,t,n){if(!W(n.hash)){var r=k(n.hash);if(!r)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(i.matchDomain)(r.domain,t))throw new Error("Response origin "+t+" does not match domain "+Object(i.stringifyDomainPattern)(r.domain));if(F(n.hash),n.ack===f.POST_MESSAGE_ACK.ERROR){var o=new Error(n.error);return n.code&&(o.code=n.code),r.respond(o,null)}if(n.ack===f.POST_MESSAGE_ACK.SUCCESS){var a=n.data||n.response;return r.respond(null,{source:e,origin:t,data:a})}}},M),q="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)};function z(e){if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(e){return}var t=e.source,n=e.origin,r=function(e){var t,n=void 0;try{t=e,n=JSON.parse(t)}catch(e){return}if(n&&"object"===(void 0===n?"undefined":q(n))&&null!==n&&(n=n[f.WINDOW_PROPS.POSTROBOT])&&"object"===(void 0===n?"undefined":q(n))&&null!==n&&n.type&&"string"==typeof n.type&&B[n.type])return n}(e.data);if(r){if(!r.sourceDomain||"string"!=typeof r.sourceDomain)throw new Error("Expected message to have sourceDomain");0!==r.sourceDomain.indexOf(f.MOCK_PROTOCOL)&&0!==r.sourceDomain.indexOf(f.FILE_PROTOCOL)||(n=r.sourceDomain),-1===S.receivedMessages.indexOf(r.id)&&(S.receivedMessages.push(r.id),Object(i.isWindowClosed)(t)&&!r.fireAndForget||(r.data&&(r.data=function(e,t,n){return g({obj:r.data},(function(n){if("object"===(void 0===n?"undefined":C(n))&&null!==n)return P(n,f.SERIALIZATION_TYPES.METHOD)?A(e,t,n):P(n,f.SERIALIZATION_TYPES.ERROR)?function(e,t,n){var r=new Error(n.__message__);return n.__code__&&(r.code=n.__code__),r}(0,0,n):P(n,f.SERIALIZATION_TYPES.PROMISE)?function(e,t,n){return window.Promise?new window.Promise((function(r,o){return A(e,t,n.__then__)(r,o)})):I(e,t,n)}(e,t,n):P(n,f.SERIALIZATION_TYPES.ZALGO_PROMISE)?I(e,t,n):P(n,f.SERIALIZATION_TYPES.REGEX)?function(e,t,n){return new RegExp(n.__source__)}(0,0,n):void 0})).obj}(t,n)),B[r.type](t,n,r)))}}function G(e){try{e.source}catch(e){return}z({source:e.source||e.sourceElement,origin:e.origin||e.originalEvent&&e.originalEvent.origin,data:e.data})}function $(e){return O.try((function(){if(!e.name)throw new Error("Expected options.name");var t=e.name,n=void 0,r=void 0;if("string"==typeof e.window){var o=document.getElementById(e.window);if(!o)throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be a valid element id");if("iframe"!==o.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(!o.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");n=o.contentWindow}else if(e.window instanceof HTMLIFrameElement){if("iframe"!==e.window.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(e.window&&!e.window.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");e.window&&e.window.contentWindow&&(n=e.window.contentWindow)}else n=e.window;if(!n)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");var a=n;r=e.domain||f.WILDCARD;var s=e.name+"_"+w();if(Object(i.isWindowClosed)(a))throw new Error("Target window is closed");var u=!1,c=S.requestPromises.get(a);c||(c=[],S.requestPromises.set(a,c));var l=O.try((function(){if(Object(i.isAncestor)(window,a))return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Window",r=S.readyPromises.get(e);return r||(r=new O,S.readyPromises.set(e,r),-1!==t&&setTimeout((function(){return r.reject(new Error(n+" did not load after "+t+"ms"))}),t),r)}(a,e.timeout||p.CHILD_WINDOW_TIMEOUT)})).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(b(r)&&!e)return R(a)})).then((function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(b(r)){if(!Object(i.matchDomain)(r,n))throw new Error("Remote window domain "+n+" does not match regex: "+r.toString());r=n}if("string"!=typeof r&&!Array.isArray(r))throw new TypeError("Expected domain to be a string or array");var o=r;return new O((function(n,r){var d=void 0;if(e.fireAndForget||function(e,t){S.responseListeners[e]=t}(s,d={name:t,window:a,domain:o,respond:function(e,t){e||(u=!0,c.splice(c.indexOf(l,1))),e?r(e):n(t)}}),N(a,{type:f.POST_MESSAGE_TYPE.REQUEST,hash:s,name:t,data:e.data,fireAndForget:e.fireAndForget},o).catch(r),e.fireAndForget)return n();var h=p.ACK_TIMEOUT,m=e.timeout||p.RES_TIMEOUT,v=100;setTimeout((function n(){if(!u){if(Object(i.isWindowClosed)(a))return d.ack?r(new Error("Window closed for "+t+" before response")):r(new Error("Window closed for "+t+" before ack"));if(h=Math.max(h-v,0),-1!==m&&(m=Math.max(m-v,0)),d.ack){if(-1===m)return;v=Math.min(m,2e3)}else{if(0===h)return r(new Error("No ack for postMessage "+t+" in "+Object(i.getDomain)()+" in "+p.ACK_TIMEOUT+"ms"));if(0===m)return r(new Error("No response for postMessage "+t+" in "+Object(i.getDomain)()+" in "+(e.timeout||p.RES_TIMEOUT)+"ms"))}setTimeout(n,v)}}),v)}))}));return l.catch((function(){!function(e){S.erroredResponseListeners[e]=!0}(s),F(s)})),c.push(l),l}))}function Y(e,t,n,r){return(r=r||{}).window=e,r.name=t,r.data=n,$(r)}function Z(e,t,n){var r=Object(i.getAncestor)();return r?Y(r,e,t,n):new O((function(e,t){return t(new Error("Window does not have a parent"))}))}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.window)throw new Error("Expected options.window");var t=e.window;return{send:function(n,r){return Y(t,n,r,e)}}}S.receivedMessages=S.receivedMessages||[],S.receiveMessage=z,S.requestPromises=S.requestPromises||new l,S.send=Y;var K="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)};function V(e){if(!e.name)throw new Error("Expected options.name");if(!e.handler)throw new Error("Expected options.handler");var t,n=e.name,r=e.window,o=e.domain,a={handler:e.handler,handleError:e.errorHandler||function(e){throw e},window:r,domain:o||f.WILDCARD,name:n},s=function e(t,n){var r=t.name,o=t.win,i=t.domain;if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(Array.isArray(o)){for(var a=[],s=0,u=o,c=null==u?0:u.length;s<c;s++){var d=u[s];a.push(e({name:r,domain:i,win:d},n))}return{cancel:function(){for(var e=0,t=null==a?0:a.length;e<t;e++)a[e].cancel()}}}if(Array.isArray(i)){for(var p=[],h=0,m=i,v=null==m?0:m.length;h<v;h++){var y=m[h];p.push(e({name:r,win:o,domain:y},n))}return{cancel:function(){for(var e=0,t=null==p?0:p.length;e<t;e++)p[e].cancel()}}}var w=U({name:r,win:o,domain:i});if(o&&o!==f.WILDCARD||(o=S.WINDOW_WILDCARD),i=i||f.WILDCARD,w)throw o&&i?new Error("Request listener already exists for "+r+" on domain "+i.toString()+" for "+(o===S.WINDOW_WILDCARD?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+r+" for "+(o===S.WINDOW_WILDCARD?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" on domain "+i.toString()):new Error("Request listener already exists for "+r);var g=S.requestListeners,_=g[r];_||(_=new l,g[r]=_);var E=_.get(o);E||(E={},_.set(o,E));var O=i.toString(),C=E[D],j=void 0;return b(i)?(C||(C=[],E[D]=C),j={regex:i,listener:n},C.push(j)):E[O]=n,{cancel:function(){E&&(delete E[O],o&&0===Object.keys(E).length&&_.delete(o),j&&C.splice(C.indexOf(j,1)))}}}({name:n,win:r,domain:o},a);if(e.once){var u=a.handler;a.handler=v((function(){return s.cancel(),u.apply(this,arguments)}))}if(a.window&&e.errorOnClose)var c=(t=void 0,t=setTimeout((function e(){t=setTimeout(e,50),function(){r&&"object"===(void 0===r?"undefined":K(r))&&Object(i.isWindowClosed)(r)&&(c.cancel(),a.handleError(new Error("Post message target window is closed")))}.call()}),50),{cancel:function(){clearTimeout(t)}});return{cancel:function(){s.cancel()}}}function Q(e,t,n){return"function"==typeof t&&(n=t,t={}),(t=t||{}).name=e,t.handler=n||t.handler,V(t)}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"function"==typeof t&&(n=t,t={}),t=t||{},n=n||t.handler;var r=t.errorHandler,o=new O((function(o,i){(t=t||{}).name=e,t.once=!0,t.handler=function(e){if(o(e),n)return n(e)},t.errorHandler=function(e){if(i(e),r)return r(e)}})),i=V(t);return o.cancel=i.cancel,o}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{on:function(t,n){return Q(t,e,n)}}}function te(){delete window[f.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",G)}S.on=Q;var ne=Object(i.getAncestor)();function re(e){var t=S.requestPromises.get(e);if(t)for(var n=0,r=null==t?0:t.length;n<r;n++)t[n].reject(new Error("No response from window - cleaned up"));S.popupWindowsByWin&&S.popupWindowsByWin.delete(e),S.remoteWindows&&S.remoteWindows.delete(e),S.requestPromises.delete(e),S.methods.delete(e),S.readyPromises.delete(e)}var oe=null;function ie(){var e,t;S.initialized||(t=G,(e=window).addEventListener?e.addEventListener("message",t):e.attachEvent("onmessage",t),function(){e=function(e){var t=e.source,n=e.origin,r=S.readyPromises.get(t)||new O;r.resolve({origin:n}),S.readyPromises.set(t,r)},S.on(f.POST_MESSAGE_NAMES.HELLO,{domain:f.WILDCARD},(function(t){var n=t.source,r=t.origin;return e({source:n,origin:r})}));var e,t=Object(i.getAncestor)();t&&R(t).catch(y)}(),j({on:Q,send:Y})),S.initialized=!0}ie(),r.d(t,"cleanUpWindow",(function(){return re})),r.d(t,"Promise",(function(){return O})),r.d(t,"bridge",(function(){return oe})),r.d(t,"init",(function(){return ie})),r.d(t,"parent",(function(){return ne})),r.d(t,"send",(function(){return Y})),r.d(t,"request",(function(){return $})),r.d(t,"sendToParent",(function(){return Z})),r.d(t,"client",(function(){return J})),r.d(t,"on",(function(){return Q})),r.d(t,"listen",(function(){return V})),r.d(t,"once",(function(){return X})),r.d(t,"listener",(function(){return ee})),r.d(t,"CONFIG",(function(){return p})),r.d(t,"CONSTANTS",(function(){return f})),r.d(t,"disable",(function(){return te})),t.default=o}})}));(re=oe)&&re.__esModule&&Object.prototype.hasOwnProperty.call(re,"default")&&re.default,oe.postRobot;var ie=ne((function(e){e.exports=oe,e.exports.default=e.exports})),ae=ne((function(e,t){e.exports=function(){var e=1e3,t=6e4,o=36e5,i=24*o,a=function(r,a){a=a||{};var u=n(r);if("string"===u&&r.length>0)return function(n){if(!((n=String(n)).length>100)){var r=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(r){var a=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(r);if("number"===u&&!1===isNaN(r))return a.long?function(n){var r=Math.abs(n);return r>=i?s(n,r,i,"day"):r>=o?s(n,r,o,"hour"):r>=t?s(n,r,t,"minute"):r>=e?s(n,r,e,"second"):n+" ms"}(r):function(n){var r=Math.abs(n);return r>=i?Math.round(n/i)+"d":r>=o?Math.round(n/o)+"h":r>=t?Math.round(n/t)+"m":r>=e?Math.round(n/e)+"s":n+"ms"}(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var u,c=(function(e,t){t.log=function(){var e;return"object"==("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(a.enabled){var i=a,s=Number(new Date),u=s-(r||s);i.diff=u,i.prev=r,i.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var o=n.formatters[r];if("function"==typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e})),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){var r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){var e=[].concat(r(n.names.map(s)),r(n.skips.map(s).map((function(e){return"-"+e})))).join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=a,Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(u={exports:{}},u.exports),u.exports);return c.log,c.formatArgs,c.save,c.load,c.useColors,c.storage,c.colors,function(e){return c("bearer:".concat(e))}}()}))("js");function se(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}var ue=function(){var e=this;this.events={},this.on=function(t,r){"object"!=n(e.events[t])&&(e.events[t]=[]),e.events[t].push(r)},this.clearListeners=function(t){e.events[t]=[]},this.removeListener=function(t,n){if(e.events[t]){var r=e.events[t].indexOf(n);r>-1&&e.events[t].splice(r,1)}},this.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(e.events[t])for(var o=e.events[t].slice(),i=o.length,a=0;a<i;a++)o[a].apply(e,n)},this.once=function(t,n){e.on(t,(function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];e.removeListener(t,r),n.apply(e,o)}))}},ce=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},le=Object.prototype.toString;function fe(e){return"[object Array]"===le.call(e)}function de(e){return null!==e&&"object"==n(e)}function pe(e){return"[object Function]"===le.call(e)}function he(e,t){if(null!=e)if("object"!=n(e)&&(e=[e]),fe(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var me={isArray:fe,isArrayBuffer:function(e){return"[object ArrayBuffer]"===le.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:de,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===le.call(e)},isFile:function(e){return"[object File]"===le.call(e)},isBlob:function(e){return"[object Blob]"===le.call(e)},isFunction:pe,isStream:function(e){return de(e)&&pe(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:he,merge:function e(){var t={};function r(r,o){"object"==n(t[o])&&"object"==n(r)?t[o]=e(t[o],r):t[o]=r}for(var o=0,i=arguments.length;o<i;o++)he(arguments[o],r);return t},deepMerge:function e(){var t={};function r(r,o){"object"==n(t[o])&&"object"==n(r)?t[o]=e(t[o],r):t[o]="object"==n(r)?e({},r):r}for(var o=0,i=arguments.length;o<i;o++)he(arguments[o],r);return t},extend:function(e,t,n){return he(t,(function(t,r){e[r]=n&&"function"==typeof t?ce(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function ve(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ye=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(me.isURLSearchParams(t))r=t.toString();else{var o=[];me.forEach(t,(function(e,t){null!=e&&(me.isArray(e)?t+="[]":e=[e],me.forEach(e,(function(e){me.isDate(e)?e=e.toISOString():me.isObject(e)&&(e=JSON.stringify(e)),o.push(ve(t)+"="+ve(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function we(){this.handlers=[]}we.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},we.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},we.prototype.forEach=function(e){me.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ge=we,be=function(e,t,n){return me.forEach(n,(function(n){e=n(e,t)})),e},_e=function(e){return!(!e||!e.__CANCEL__)},Ee=function(e,t){me.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Oe=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},Se=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ce=me.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=me.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},je=me.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),me.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),me.isString(r)&&a.push("path="+r),me.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Pe=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;me.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+s)}if(i.open(e.method.toUpperCase(),ye(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,a,s,u,c="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),u={},r?(me.forEach(r.split("\n"),(function(e){if(s=e.indexOf(":"),o=me.trim(e.substr(0,s)).toLowerCase(),a=me.trim(e.substr(s+1)),o){if(u[o]&&Se.indexOf(o)>=0)return;u[o]="set-cookie"===o?(u[o]?u[o]:[]).concat([a]):u[o]?u[o]+", "+a:a}})),u):u):null,l={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:c,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(Oe("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,l),i=null}},i.onabort=function(){i&&(n(Oe("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(Oe("Network Error",e,null,i)),i=null},i.ontimeout=function(){n(Oe("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},me.isStandardBrowserEnv()){var u=je,c=(e.withCredentials||Ce(e.url))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;c&&(o[e.xsrfHeaderName]=c)}if("setRequestHeader"in i&&me.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))},Te={"Content-Type":"application/x-www-form-urlencoded"};function Ae(e,t){!me.isUndefined(e)&&me.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Ie,Re={adapter:(("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)||"undefined"!=typeof XMLHttpRequest)&&(Ie=Pe),Ie),transformRequest:[function(e,t){return Ee(t,"Accept"),Ee(t,"Content-Type"),me.isFormData(e)||me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)?e:me.isArrayBufferView(e)?e.buffer:me.isURLSearchParams(e)?(Ae(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):me.isObject(e)?(Ae(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};me.forEach(["delete","get","head"],(function(e){Re.headers[e]={}})),me.forEach(["post","put","patch"],(function(e){Re.headers[e]=me.merge(Te)}));var xe=Re;function Le(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Ne=function(e){var t,n,r;return Le(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=be(e.data,e.headers,e.transformRequest),e.headers=me.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),me.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||xe.adapter)(e).then((function(t){return Le(e),t.data=be(t.data,t.headers,e.transformResponse),t}),(function(t){return _e(t)||(Le(e),t&&t.response&&(t.response.data=be(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Me=function(e,t){t=t||{};var n={};return me.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),me.forEach(["headers","auth","proxy"],(function(r){me.isObject(t[r])?n[r]=me.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:me.isObject(e[r])?n[r]=me.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),me.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function De(e){this.defaults=e,this.interceptors={request:new ge,response:new ge}}De.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Me(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[Ne,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},De.prototype.getUri=function(e){return e=Me(this.defaults,e),ye(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},me.forEach(["delete","get","head","options"],(function(e){De.prototype[e]=function(t,n){return this.request(me.merge(n||{},{method:e,url:t}))}})),me.forEach(["post","put","patch"],(function(e){De.prototype[e]=function(t,n,r){return this.request(me.merge(r||{},{method:e,url:t,data:n}))}}));var ke=De;function Fe(e){this.message=e}Fe.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Fe.prototype.__CANCEL__=!0;var We=Fe;function Ue(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new We(e),t(n.reason))}))}Ue.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ue.source=function(){var e;return{token:new Ue((function(t){e=t})),cancel:e}};var He=Ue;function Be(e){var t=new ke(e),n=ce(ke.prototype.request,t);return me.extend(n,ke.prototype,t),me.extend(n,t),n}var qe=Be(xe);qe.Axios=ke,qe.create=function(e){return Be(Me(qe.defaults,e))},qe.Cancel=We,qe.CancelToken=He,qe.isCancel=_e,qe.all=function(e){return Promise.all(e)},qe.spread=function(e){return function(t){return e.apply(null,t)}};var ze=qe,Ge=qe;ze.default=Ge;var $e=ze,Ye=function e(t,r,o,i){var a=this;this.bearerInstance=t,this.integrationId=r,this.setupId=o,this.authId=i,this.auth=function(t){return new e(a.bearerInstance,a.integrationId,a.setupId,t)},this.setup=function(t){return new e(a.bearerInstance,a.integrationId,t,a.authId)},this.invoke=function(e,t){return void 0===t&&(t={}),V(a,void 0,void 0,(function(){var n,r,o,i;return Q(this,(function(a){switch(a.label){case 0:var s=t.query,u=void 0===s?{}:s,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(t,["query"]);r=K({authId:this.authId,setupId:this.setupId},u,{secured:this.bearerInstance.config.secured}),this.logger("json request: path %s",e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,$e.request({method:"POST",baseURL:this.bearerInstance.config.integrationHost+"/api/v4/functions/"+this.integrationId,url:e,params:se(r),data:c||{},headers:(n={},n["Bearer-Publishable-Key"]=this.bearerInstance.clientId,n)})];case 2:if(o=a.sent().data,this.logger("successful request %j",o),o.error)throw{error:o.error};return[2,o];case 3:throw i=a.sent(),this.logger("invoke failed %j",i,i.message),{error:i};case 4:return[2]}}))}))},this.get=function(e,t){return a.request("GET",e,t)},this.head=function(e,t){return a.request("HEAD",e,t)},this.post=function(e,t){return a.request("POST",e,t)},this.put=function(e,t){return a.request("PUT",e,t)},this.delete=function(e,t){return a.request("DELETE",e,t)},this.patch=function(e,t){return a.request("PATCH",e,t)},this.request=function(e,t,r){if(void 0===r&&(r={}),r&&"object"!=n(r))throw new Ze;var o={"Bearer-Auth-Id":a.authId,"Bearer-Setup-Id":a.setupId,"Bearer-Publishable-Key":a.bearerInstance.clientId};if(r&&r.headers)for(var i in r.headers)o["Bearer-Proxy-"+i]=r.headers[i];return $e.request({method:e,headers:se(o),baseURL:a.bearerInstance.config.integrationHost+"/api/v4/functions/"+a.integrationId+"/bearer-proxy",url:t,params:r.query,data:r&&r.body})},this.logger=ae.extend("integration-client").extend(r),this.logger("Integration initialized",this)},Ze=function(e){function t(){return e.call(this,'Unable to trigger API request. Request parameters should be an object in the form "{ headers: { "Foo": "bar" }, body: "My body" }"')||this}return function(e,t){function n(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),Je=ae.extend("Bearer"),Ke={secured:void 0,integrationHost:"https://int.bearer.sh",domObserver:!0,refreshDebounceDelay:200},Ve=function(){function e(t,n){var r=this;void 0===n&&(n={}),this.clientId=t,this.config=Ke,this.registeredIntegrations={},this.connect=function(t,n,o){var i,a=void 0===o?{}:o,s=a.authId,u=a.width,c=void 0===u?500:u,l=a.height,f=void 0===l?600:l,d=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}((i={setupId:n,authId:s,secured:r.config.secured,clientId:r.clientId},Object.keys(i).reduce((function(e,t){return i[t]&&(e[t]=i[t]),e}),{}))),p=r.config.integrationHost+"/v2/auth/"+t+"?"+d,h=new Promise((function(n,r){e.authorizedListener.clearListeners(Xe(t)),e.authorizedListener.clearListeners(et(t)),ae("add authorization listeners"),e.authorizedListener.once(Xe(t),(function(e){ae("Authorized: %s => %j",t,e),n(K({},e,{integration:t}))})),e.authorizedListener.once(et(t),(function(e){ae("Rejected: %s => %j",t,e),r(K({},e,{integration:t}))}))})).then(),m=function(e,t,n){var r=e.screen,o=r.width,i=r.height,a=o/2-t/2,s=i/2-n/2,u=Math.min(t,o),c=Math.min(n,i);return{left:Math.max(a,0),top:Math.max(s,0),calculatedWidth:u,calculatedHeight:c}}(window,c,f),v=m.left,y=m.top,w=m.calculatedWidth,g=m.calculatedHeight;return window.open(p,"","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+g+", top="+y+", left="+v),h},this.integration=function(e){return new Ye(r,e)},this.invoke=function(e,t,n){return void 0===n&&(n={}),V(r,void 0,void 0,(function(){return Q(this,(function(r){return[2,this.integration(e).invoke(t,n)]}))}))},this.loadMissingIntegrations=function(){var e=function(e,t){return void 0===t&&(t=/^bearer-/i),Array.from(e).filter((function(e){return t.test(e.tagName)})).map((function(e){return e.tagName.toLowerCase()}))}(document.getElementsByTagName("*")),t=e.filter((function(e){return!r.registeredIntegration(e)}));Je(r.registeredIntegrations,e,t),r.sendTags(t)},this.registeredIntegration=function(e){return r.registeredIntegrations[e]=r.registeredIntegrations[e]||document.createElement(e).constructor!==HTMLElement,r.registeredIntegrations[e]},this.initialIntegrationLoading=function(){"complete"===document.readyState||"interactive"===document.readyState?r.debounceRefresh():document.addEventListener("DOMContentLoaded",r.debounceRefresh)},this.registerDomObserver=function(){if("MutationObserver"in window){r.disconnectObserver();var e=document.documentElement||document.body;r.observer=new MutationObserver(r.observerCallback),r.observer.observe(e,{childList:!0,subtree:!0})}},this.observerCallback=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];"childList"==o.type&&o.addedNodes.length&&r.debounceRefresh()}},this.disconnectObserver=function(){r.observer&&(r.observer.disconnect(),delete r.observer)},this.sendTags=function(e){return V(r,void 0,void 0,(function(){var t,n=this;return Q(this,(function(r){switch(r.label){case 0:if(!e.length)return[2,Promise.resolve(!0)];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.config.integrationHost+"/v1/parse-tags",{headers:{"content-type":"application/json"},body:JSON.stringify({tags:e,clientId:this.clientId}),method:"POST"})];case 2:if((t=r.sent()).status>299)throw new Error("Error while fetching integration tag names: "+e);return[4,t.json()];case 3:return r.sent().map((function(e){document.querySelector("#"+Qe(e.uuid))||document.body.appendChild(function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0;var r=t.asset.indexOf("?")>-1?"&":"?";return n.src=[t.asset,["clientId="+e].join("&")].join(r),n.id=Qe(t.uuid),n}(n.clientId||"",e))})),[2,!0];case 4:return r.sent(),[2,!1];case 5:return[2]}}))}))},this.config=K({},Ke,se(n)),this.secured=this.config.secured,Je("init bearer instance clientId: %s with config: %j",t,this.config),this.debounceRefresh=ee(this.loadMissingIntegrations,this.config.refreshDebounceDelay),this.initialIntegrationLoading(),this.config.domObserver&&this.registerDomObserver()}return Object.defineProperty(e,"authorizedListener",{get:function(){return window["bearer-listeners"]||(window["bearer-listeners"]=new ue,ie.on("BEARER_AUTHORIZED",(function(e){var t=e.data;window["bearer-listeners"].emit(Xe(t.scenarioId||t.integrationId),t)})),ie.on("BEARER_REJECTED",(function(e){var t=e.data;window["bearer-listeners"].emit(et(t.scenarioId||t.integrationId),t)}))),window["bearer-listeners"]},enumerable:!0,configurable:!0}),e}();function Qe(e){return"bearer-"+e}function Xe(e){return"authorize_"+e}function et(e){return"reject_"+e}var tt,nt=ne((function(e,t){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==n(te)&&te&&te.Object===Object&&te,d="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),h=t&&!t.nodeType&&t,m=h&&e&&!e.nodeType&&e,v=m&&m.exports===h,y=v&&f.process,w=function(){try{return m&&m.require&&m.require("util").types||y&&y.binding&&y.binding("util")}catch(e){}}(),g=w&&w.isTypedArray;function b(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _,E,O,S=Array.prototype,C=Function.prototype,j=Object.prototype,P=p["__core-js_shared__"],T=C.toString,A=j.hasOwnProperty,I=(_=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",R=j.toString,x=T.call(Object),L=RegExp("^"+T.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=v?p.Buffer:void 0,M=p.Symbol,D=p.Uint8Array,k=(N&&N.allocUnsafe,E=Object.getPrototypeOf,O=Object,function(e){return E(O(e))}),F=Object.create,W=j.propertyIsEnumerable,U=S.splice,H=M?M.toStringTag:void 0,B=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),q=N?N.isBuffer:void 0,z=Math.max,G=Date.now,$=ue(p,"Map"),Y=ue(Object,"create"),Z=function(){function e(){}return function(t){if(!be(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=this.__data__=new K(e);this.size=t.size}function X(e,t,n){(void 0===n||pe(e[t],n))&&(void 0!==n||t in e)||re(e,t,n)}function ee(e,t,n){var r=e[t];A.call(e,t)&&pe(r,n)&&(void 0!==n||t in e)||re(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}function re(e,t,n){"__proto__"==t&&B?B(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return n===r?void 0:n}return A.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:A.call(t,e)},J.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?r:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0||(n==t.length-1?t.pop():U.call(t,n,1),--this.size,0))},K.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},K.prototype.has=function(e){return ne(this.__data__,e)>-1},K.prototype.set=function(e,t){var n=this.__data__,r=ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},V.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new($||K),string:new J}},V.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},V.prototype.get=function(e){return se(this,e).get(e)},V.prototype.has=function(e){return se(this,e).has(e)},V.prototype.set=function(e,t){var n=se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new K,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof K){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new V(r)}return n.set(e,t),this.size=n.size,this};function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?function(e){var t=A.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(e){}var o=R.call(e);return r&&(t?e[H]=n:delete e[H]),o}(e):function(e){return R.call(e)}(e)}function ie(e){return _e(e)&&oe(e)==i}function ae(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}}(t,(function(i,a){if(o||(o=new Q),be(i))!function(e,t,n,r,o,i,a){var u=fe(e,n),c=fe(t,n),l=a.get(c);if(l)X(e,n,l);else{var f,d,p,h,m,v=i?i(u,c,n+"",e,t,a):void 0,y=void 0===v;if(y){var w=me(c),g=!w&&ye(c),b=!w&&!g&&Ee(c);v=c,w||g||b?me(u)?v=u:_e(m=u)&&ve(m)?v=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(u):g?(y=!1,v=function(e,t){return e.slice()}(c)):b?(y=!1,h=new(p=(f=c).buffer).constructor(p.byteLength),new D(h).set(new D(p)),d=h,v=new f.constructor(d,f.byteOffset,f.length)):v=[]:function(e){if(!_e(e)||oe(e)!=s)return!1;var t=k(e);if(null===t)return!0;var n=A.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&T.call(n)==x}(c)||he(c)?(v=u,he(u)?v=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=void 0;void 0===u&&(u=e[s]),o?re(n,s,u):ee(n,s,u)}return n}(e,Oe(e))}(u):be(u)&&!we(u)||(v=function(e){return"function"!=typeof e.constructor||le(e)?{}:Z(k(e))}(c))):y=!1}y&&(a.set(c,v),o(v,c,r,i,a),a.delete(c)),X(e,n,v)}}(e,t,a,n,ae,r,o);else{var u=r?r(fe(e,a),i,a+"",e,t,o):void 0;void 0===u&&(u=i),X(e,a,u)}}),Oe)}function se(e,t){var r,o,i=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!be(e)||function(e){return!!I&&I in e}(e))&&(we(e)?L:u).test(function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function ce(e,t){var r=n(e);return!!(t=null==t?o:t)&&("number"==r||"symbol"!=r&&c.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var de=function(e){var t=0,n=0;return function(){var r=G(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(B?function(e,t){return B(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:je);function pe(e,t){return e===t||e!=e&&t!=t}var he=ie(function(){return arguments}())?ie:function(e){return _e(e)&&A.call(e,"callee")&&!W.call(e,"callee")},me=Array.isArray;function ve(e){return null!=e&&ge(e.length)&&!we(e)}var ye=q||function(){return!1};function we(e){if(!be(e))return!1;var t=oe(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function be(e){var t=n(e);return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==n(e)}var Ee=g?function(e){return function(t){return e(t)}}(g):function(e){return _e(e)&&ge(e.length)&&!!l[oe(e)]};function Oe(e){return ve(e)?function(e,t){var n=me(e),r=!n&&he(e),o=!n&&!r&&ye(e),i=!n&&!r&&!o&&Ee(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!A.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ce(c,u))||s.push(c);return s}(e,!0):function(e){if(!be(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=le(e),n=[];for(var r in e)("constructor"!=r||!t&&A.call(e,r))&&n.push(r);return n}(e)}var Se,Ce=(Se=function(e,t,n){ae(e,t,n)},function(e,t){return de(function(e,t,n){return t=z(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=z(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),b(e,this,s)}}(e,t,je),e+"")}((function(e,t){var r=-1,o=t.length,i=o>1?t[o-1]:void 0,a=o>2?t[2]:void 0;for(i=Se.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(e,t,r){if(!be(r))return!1;var o=n(t);return!!("number"==o?ve(r)&&ce(t,r.length):"string"==o&&t in r)&&pe(r[t],e)}(t[0],t[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=t[r];s&&Se(e,s,r)}return e})));function je(e){return e}e.exports=Ce})),rt="__lodash_hash_undefined__",ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,at=/^\./,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/\\(\\)?/g,ct=/^\[object .+?Constructor\]$/,lt="object"==n(te)&&te&&te.Object===Object&&te,ft="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,dt=lt||ft||Function("return this")(),pt=Array.prototype,ht=Function.prototype,mt=Object.prototype,vt=dt["__core-js_shared__"],yt=(tt=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+tt:"",wt=ht.toString,gt=mt.hasOwnProperty,bt=mt.toString,_t=RegExp("^"+wt.call(gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=dt.Symbol,Ot=pt.splice,St=Lt(dt,"Map"),Ct=Lt(Object,"create"),jt=Et?Et.prototype:void 0,Pt=jt?jt.toString:void 0;function Tt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function At(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function It(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rt(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function xt(e,t){var r,o,i=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Lt(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ft(e)||(t=e,yt&&yt in t))&&(function(e){var t=Ft(e)?bt.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?_t:ct).test(function(e){if(null!=e){try{return wt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}Tt.prototype.clear=function(){this.__data__=Ct?Ct(null):{}},Tt.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Tt.prototype.get=function(e){var t=this.__data__;if(Ct){var n=t[e];return n===rt?void 0:n}return gt.call(t,e)?t[e]:void 0},Tt.prototype.has=function(e){var t=this.__data__;return Ct?void 0!==t[e]:gt.call(t,e)},Tt.prototype.set=function(e,t){return this.__data__[e]=Ct&&void 0===t?rt:t,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(e){var t=this.__data__,n=Rt(t,e);return!(n<0||(n==t.length-1?t.pop():Ot.call(t,n,1),0))},At.prototype.get=function(e){var t=this.__data__,n=Rt(t,e);return n<0?void 0:t[n][1]},At.prototype.has=function(e){return Rt(this.__data__,e)>-1},At.prototype.set=function(e,t){var n=this.__data__,r=Rt(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},It.prototype.clear=function(){this.__data__={hash:new Tt,map:new(St||At),string:new Tt}},It.prototype.delete=function(e){return xt(this,e).delete(e)},It.prototype.get=function(e){return xt(this,e).get(e)},It.prototype.has=function(e){return xt(this,e).has(e)},It.prototype.set=function(e,t){return xt(this,e).set(e,t),this};var Nt=Dt((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Wt(e))return Pt?Pt.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return at.test(e)&&n.push(""),e.replace(st,(function(e,t,r,o){n.push(r?o.replace(ut,"$1"):t||e)})),n}));function Mt(e){if("string"==typeof e||Wt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Dt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Dt.Cache||It),n}Dt.Cache=It;var kt=Array.isArray;function Ft(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function Wt(e){return"symbol"==n(e)||function(e){return!!e&&"object"==n(e)}(e)&&"[object Symbol]"==bt.call(e)}var Ut=function(e,t,r){var o=null==e?void 0:function(e,t){for(var r,o=0,i=(t=function(e,t){if(kt(e))return!1;var r=n(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Wt(e))||(it.test(e)||!ot.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:kt(r=t)?r:Nt(r)).length;null!=e&&o<i;)e=e[Mt(t[o++])];return o&&o==i?e:void 0}(e,t);return void 0===o?r:o},Ht=ae.extend("i18n"),Bt=new(function(){function e(){var e,t=this;this._locale="en",this._dictionnary=((e={}).en={},e),this.load=function(e,n,r){var o=(void 0===r?{}:r).locale,i=void 0===o?t.locale:o;return V(t,void 0,void 0,(function(){var t,r,o;return Q(this,(function(a){switch(a.label){case 0:return[4,n];case 1:return r=a.sent(),o=e?((t={})[e]=r,t):r,this._dictionnary[i]=nt(Ut(this._dictionnary,i),o),this.localeChanged(),[2]}}))}))},this.get=function(e,n,r){void 0===r&&(r={});var o=[r.locale||t.locale,e,n].filter((function(e){return e})).join(".");return Ht("lookup key",o),Ut(t._dictionnary,o)}}return e.prototype.localeChanged=function(){document.dispatchEvent(new CustomEvent("bearer-locale-changed",{detail:{locale:this.locale}}))},Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.localeChanged()},enumerable:!0,configurable:!0}),e}()),qt=function e(t,n){return e.instance=new Ve(t,n)};Object.defineProperty(qt,"instance",{get:function(){return this._instance||(ae.enabled&&ae.extend("main")(zt,Gt),this._instance=new Ve(void 0)),this._instance},set:function(e){this._instance=e}}),qt.version="1.13.10",qt.i18n=Bt,qt.secured=!1,Object.defineProperty(qt,"secured",{get:function(){return this.instance&&this.instance.secured},set:function(e){this.instance.secured=e}});var zt='%c No bearer client has been initialized. please make sure you call bearer("YOUR_CLIENT") before using any component of backend function',Gt="font-weight:bold;";const $t=qt("pk_production_0687247d73ee750a582167f4ca90e48df1253b88792d34c831");class Yt extends wp.element.Component{login(e){e.preventDefault(),$t.connect("typeform-wordpress").then(e=>{this.props.onOauth&&this.props.onOauth(e.authId)}).catch(e=>{alert(e.message)})}render(){return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("a",{className:"typeform-login",onClick:this.login.bind(this)},"Log in to Typeform")))}}const{SelectControl:Zt}=wp.components;class Jt extends wp.element.Component{constructor(){super(...arguments),this.state={loading:!1,forms:null}}loadForms(e){var t;this.state.loading||0===e.length||(this.updateState("loading",!0),(t=e,$t.integration("typeform-wordpress").auth(t).get("/forms")).then(e=>{this.updateState("forms",e.data.items),this.updateState("loading",!1)}).catch(e=>{alert(e.message),this.updateState("loading",!1)}))}updateState(e,t){const n={};n[e]=t,this.setState(n)}render(){const e=this.state.forms,t=this.state.loading,n=[{label:"Select a form..."},...(e||[]).map(e=>({label:e.title,value:e._links.display}))];return wp.element.createElement("div",{className:"max-width"},e?0===e.length?wp.element.createElement("div",null,wp.element.createElement("label",null,"No Forms Found")):wp.element.createElement(Zt,{label:"My Typeforms",options:n,onChange:e=>e&&this.props.onURL?this.props.onURL(e):null}):t?wp.element.createElement("div",null,wp.element.createElement("label",null,"Loading forms...")):wp.element.createElement("div",{className:"max-width center"},wp.element.createElement(Yt,{onOauth:e=>this.loadForms(e)})))}}class Kt extends wp.element.Component{render(){return wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"145",viewBox:"0 0 145 145","data-state":"symbol","data-palette":"positive","data-background":"#f1eCe3"},wp.element.createElement("g",{transform:"translate(10, 10)"},wp.element.createElement("path",{className:"tf-ring","stroke-width":"1",fill:"none",transform:"translate(17, 20)",stroke:"#262627",d:"M 43.1132307921401,86.2264615842802 C 55.173662363703244,85.97769353347657 64.77728639264208,82.07153875087354 73.71518715246883,73.68679345246882 C 82.65308791171994,65.30204815464026 87.3446561862927,56.142482908472694 87.80273484286437,44.30273484286437 C 88.26081349943604,32.46298677206142 85.27095336541683,23.753425960630672 76.0055804250916,14.488053025091602 C 66.74020749102972,5.222680095754017 54.62831997169567,-1.1121052296613543 41.47586991682973,-2.024130083170272 C 28.32341986208957,-2.9361549366791913 18.271599492575692,0.5561982997554559 10.24333005730096,9.92792875730096 C 2.2150606155963617,19.299659221211147 0.7005826527019294,31.83398150938641 1.3345224846276895,44.83452248462769 C 1.9684623165534467,57.83506345047966 5.057287592549576,66.65224592964105 13.413029198466894,74.9306336984669 C 21.76877081026522,83.20902147322936 31.052799216508042,86.47522963508383 43.1132307921401,86.2264615842802z"})))}}wp.element.Component;var Vt=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(t((function(e,t){e.exports=function(){var e={27:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FORM_BASE_URL=t.POPUP_SIZE=t.SLIDER_WIDTH=t.SLIDER_POSITION=t.SIDETAB_ATTRIBUTE=t.WIDGET_ATTRIBUTE=t.SLIDER_ATTRIBUTE=t.POPUP_ATTRIBUTE=t.POPOVER_ATTRIBUTE=void 0,t.POPOVER_ATTRIBUTE="data-tf-popover",t.POPUP_ATTRIBUTE="data-tf-popup",t.SLIDER_ATTRIBUTE="data-tf-slider",t.WIDGET_ATTRIBUTE="data-tf-widget",t.SIDETAB_ATTRIBUTE="data-tf-sidetab",t.SLIDER_POSITION="right",t.SLIDER_WIDTH=800,t.POPUP_SIZE=100,t.FORM_BASE_URL="https://form.typeform.com"},528:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createPopover=void 0;var o=n(747),i=function(e){return!!e.parentNode},a=function(e,t){var n=e.parentNode;n&&(n.removeChild(e),n.appendChild(t))},s={buttonColor:"#3a7685"},u=function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)};t.createPopover=function(e,t){void 0===t&&(t={});var n,c,l,f=r(r({},s),t),d=o.createIframe(e,"popover",f),p=((n=document.createElement("div")).className="typeform-popover",n),h=function(){var e=document.createElement("div");return e.className="typeform-popover-wrapper",e.dataset.testid="typeform-popover-wrapper",e}(),m=(c=f.customIcon,(l=document.createElement("div")).className="typeform-popover-button-icon",l.innerHTML=c?"<img alt='popover trigger icon button' src='"+c+"'/>":'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"\n    xmlns="http://www.w3.org/2000/svg">\n      <path d="M21 0H0V9L10.5743 24V16.5H21C22.6567 16.5 24 15.1567 24 13.5V3C24 1.34325 22.6567 0 21 0ZM7.5\n    9.75C6.672 9.75 6 9.07875 6 8.25C6 7.42125 6.672 6.75 7.5 6.75C8.328 6.75 9 7.42125 9 8.25C9 9.07875 8.328 9.75\n    7.5 9.75ZM12.75 9.75C11.922 9.75 11.25 9.07875 11.25 8.25C11.25 7.42125 11.922 6.75 12.75 6.75C13.578 6.75 14.25\n    7.42125 14.25 8.25C14.25 9.07875 13.578 9.75 12.75 9.75ZM18 9.75C17.172 9.75 16.5 9.07875 16.5 8.25C16.5 7.42125\n    17.172 6.75 18 6.75C18.828 6.75 19.5 7.42125 19.5 8.25C19.5 9.07875 18.828 9.75 18 9.75Z" fill="white"></path>\n    </svg>',l.dataset.testid="default-icon",l),v=function(){var e=document.createElement("div");e.className="typeform-spinner";var t=document.createElement("div");return t.className="typeform-popover-button-icon",t.dataset.testid="spinner-icon",t.append(e),t}(),y=function(){var e=document.createElement("div");return e.className="typeform-popover-button-icon",e.innerHTML="&times;",e.dataset.testid="close-icon",e}(),w=function(e){var t=document.createElement("button");return t.className="typeform-popover-button",t.style.backgroundColor=e,t}(f.buttonColor||s.buttonColor);(f.container||document.body).append(p),h.append(d),p.append(w),w.append(m),d.onload=function(){p.classList.add("open"),a(v,y)};var g=function(){i(h)||setTimeout((function(){p.append(h),h.style.opacity="1",a(m,v)}))},b=function(){i(p)&&setTimeout((function(){u(h),p.classList.remove("open"),a(y,m)}),250)},_=function(){i(h)?b():g()};return w.onclick=_,{open:g,close:b,toggle:_,refresh:function(){var e;null===(e=d.contentWindow)||void 0===e||e.location.reload()},unmount:function(){u(p)}}}},797:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(528),t)},630:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.createPopup=void 0;var o=n(747),i=n(27),a=n(972),s=function(e){return!!e.parentNode};t.createPopup=function(e,t){if(!o.hasDom())return{open:function(){},close:function(){},toggle:function(){},refresh:function(){}};var n=t.width,u=t.height,c=t.size,l=void 0===c?i.POPUP_SIZE:c,f=r(t,["width","height","size"]),d=o.createIframe(e,"popup",f),p=function(){var e=document.createElement("div");return e.className="typeform-popup",e.style.opacity="0",e}(),h=function(){var e=document.createElement("div");return e.className="typeform-spinner",e}(),m=function(e,t,n){var r=document.createElement("div");return r.className="typeform-iframe-wrapper",r.style.opacity="0",o.isDefined(e)&&o.isDefined(t)?(r.style.width=e+"px",r.style.height=t+"px"):(r.style.width="calc("+n+"% - 80px)",r.style.height="calc("+n+"% - 80px)"),r}(n,u,l);m.append(d),p.append(h),p.append(m);var v=f.container||document.body;d.onload=function(){m.style.opacity="1",setTimeout((function(){h.style.display="none"}),250)};var y=function(){s(p)||(v.append(p),setTimeout((function(){p.style.opacity="1"})))},w=function(){s(p)&&(p.style.opacity="0",m.style.opacity="0",setTimeout((function(){p.parentNode.removeChild(p),h.style.display="block"}),250))};return m.append(function(e){var t=document.createElement("a");return t.className="typeform-close",t.innerHTML="&times;",t.onclick=e,t}(w)),f.open&&!s(p)&&a.handleCustomOpen(y,f.open,f.openValue),{open:y,close:w,toggle:function(){s(p)?w():y()},refresh:function(){var e;null===(e=d.contentWindow)||void 0===e||e.location.reload()}}}},970:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(630),t),o(n(394),t)},394:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},382:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSidetab=void 0;var o=n(747),i={buttonColor:"#3a7685",buttonText:"Launch me"},a=function(e){return!!e.parentNode},s=function(e,t){var n=e.parentNode;n&&(n.removeChild(e),n.appendChild(t))},u=function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)};t.createSidetab=function(e,t){void 0===t&&(t={});var n,c,l,f,d=r(r({},i),t),p=o.createIframe(e,"side-tab",d),h=((n=document.createElement("div")).className="typeform-sidetab",n),m=function(){var e=document.createElement("div");return e.className="typeform-sidetab-wrapper",e.dataset.testid="typeform-sidetab-wrapper",e}(),v=function(){var e=document.createElement("div");e.className="typeform-spinner";var t=document.createElement("div");return t.className="typeform-sidetab-button-icon",t.dataset.testid="spinner-icon",t.append(e),t}(),y=function(e){var t=document.createElement("button");return t.className="typeform-sidetab-button",t.style.backgroundColor=e,t}(d.buttonColor||i.buttonColor),w=function(e){var t=document.createElement("span");return t.className="typeform-sidetab-button-text",t.innerHTML=e,t}(d.buttonText||i.buttonText),g=(c=d.customIcon,(l=document.createElement("div")).className="typeform-sidetab-button-icon",l.innerHTML=c?"<img alt='sidetab trigger icon button' src='"+c+"'/>":'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M21 0H0V9L10.5743 24V16.5H21C22.6567 16.5 24 15.1567 24 13.5V3C24 1.34325 22.6567 0 21 0ZM7.5 9.75C6.672 9.75 6 9.07875 6 8.25C6 7.42125 6.672 6.75 7.5 6.75C8.328 6.75 9 7.42125 9 8.25C9 9.07875 8.328 9.75 7.5 9.75ZM12.75 9.75C11.922 9.75 11.25 9.07875 11.25 8.25C11.25 7.42125 11.922 6.75 12.75 6.75C13.578 6.75 14.25 7.42125 14.25 8.25C14.25 9.07875 13.578 9.75 12.75 9.75ZM18 9.75C17.172 9.75 16.5 9.07875 16.5 8.25C16.5 7.42125 17.172 6.75 18 6.75C18.828 6.75 19.5 7.42125 19.5 8.25C19.5 9.07875 18.828 9.75 18 9.75Z" fill="white"></path>\n</svg>',l.dataset.testid="default-icon",l),b=((f=document.createElement("div")).className="typeform-sidetab-button-icon",f.innerHTML="&times;",f.dataset.testid="close-icon",f);document.body.append(h),m.append(p),h.append(y),y.append(g),y.append(w),setTimeout((function(){h.classList.add("ready")}),250),p.onload=function(){h.classList.add("open"),s(v,b)};var _=function(){a(m)||(h.append(m),s(g,v))},E=function(){a(m)&&setTimeout((function(){u(m),h.classList.remove("open"),s(b,g)}),250)},O=function(){a(m)?E():_()};return y.onclick=O,{open:_,close:E,toggle:O,refresh:function(){var e;null===(e=p.contentWindow)||void 0===e||e.location.reload()},unmount:function(){u(h)}}}},434:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(382),t)},603:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.createSlider=void 0;var o=n(747),i=n(27),a=function(e){return!!e.parentNode};t.createSlider=function(e,t){if(!o.hasDom())return{open:function(){},close:function(){},toggle:function(){},refresh:function(){}};var n=t.position,s=void 0===n?i.SLIDER_POSITION:n,u=t.width,c=void 0===u?i.SLIDER_WIDTH:u,l=r(t,["position","width"]),f=o.createIframe(e,"slider",l),d=function(e){var t=document.createElement("div");return t.className="typeform-slider "+e,t.style.opacity="0",t}(s),p=function(){var e=document.createElement("div");return e.className="typeform-spinner",e}(),h=function(e,t){var n=document.createElement("div");return n.className="typeform-iframe-wrapper",n.style[e]="-100%",n.style.width=t+"px",n}(s,c);h.append(f),d.append(p),d.append(h);var m=l.container||document.body;f.onload=function(){h.style[s]="0",setTimeout((function(){p.style.display="none"}),500)};var v=function(){a(d)||(m.append(d),setTimeout((function(){d.style.opacity="1"})))},y=function(){a(d)&&(d.style.opacity="0",h.style[s]="-100%",setTimeout((function(){d.parentNode.removeChild(d),p.style.display="block"}),500))};return h.append(function(e){var t=document.createElement("a");return t.className="typeform-close",t.innerHTML="&times;",t.onclick=e,t}(y)),{open:v,close:y,toggle:function(){a(d)?y():v()},refresh:function(){var e;null===(e=f.contentWindow)||void 0===e||e.location.reload()}}}},331:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(603),t),o(n(162),t)},162:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},718:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createWidget=void 0;var r=n(747),o=n(313);t.createWidget=function(e,t){if(!r.hasDom())return{refresh:function(){}};var n=r.createIframe(e,"widget",t),i=o.buildWidget(n);return t.container.innerHTML="",t.container.append(i),{refresh:function(){var e;return null===(e=n.contentWindow)||void 0===e?void 0:e.location.reload()}}}},419:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.buildWidget=void 0,t.buildWidget=function(e){var t=document.createElement("div");return t.className="typeform-widget",t.append(e),t}},313:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(419),t)},321:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(718),t),o(n(58),t)},58:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},920:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(797),t),o(n(970),t),o(n(331),t),o(n(321),t),o(n(434),t)},626:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildIframeSrc=void 0;var o=n(27),i=n(527),a=n(346),s=n(698),u={widget:"embed-widget",popup:"popup-blank",slider:"popup-drawer",popover:"popup-popover","side-tab":"popup-side-panel"};t.buildIframeSrc=function(e){var t=e.formId,n=e.type,c=e.embedId,l=e.options,f=function(e,t,n){var o=s.getTransitiveSearchParams(n.transitiveSearchParams),i={"typeform-embed-id":t,"typeform-embed":u[e],"typeform-source":n.source,"typeform-medium":n.medium,"typeform-medium-version":n.mediumVersion,"embed-hide-footer":n.hideFooter?"true":void 0,"embed-hide-headers":n.hideHeaders?"true":void 0,"embed-opacity":n.opacity,"disable-tracking":n.disableTracking?"true":void 0,"disable-auto-focus":n.disableAutoFocus?"true":void 0};return r(r({},i),o)}(n,c,function(e){return r(r({},{source:null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname.replace(/^www\./,""),medium:"embed-sdk",mediumVersion:"next"}),i.removeUndefinedKeys(e));var t}(l)),d=function(e,t){void 0===t&&(t=!1);var n=t?"c":"to";return new URL(o.FORM_BASE_URL+"/"+n+"/"+e)}(t,l.chat);if(Object.entries(f).filter((function(e){var t=e[1];return a.isDefined(t)})).forEach((function(e){var t=e[0],n=e[1];d.searchParams.set(t,n)})),l.hidden){var p=new URL(o.FORM_BASE_URL);Object.entries(l.hidden).filter((function(e){var t=e[1];return a.isDefined(t)})).forEach((function(e){var t=e[0],n=e[1];p.searchParams.set(t,n)}));var h=p.searchParams.toString();h&&(d.hash=h)}return d.href}},972:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.handleCustomOpen=void 0,t.handleCustomOpen=function(e,t,n){switch(t){case"load":e();break;case"exit":n&&function(e,t){var n=0;document.addEventListener("mousemove",(function r(o){o.clientY<e&&o.clientY<n?(document.removeEventListener("mousemove",r),t()):n=o.clientY}))}(n,e);break;case"time":setTimeout((function(){e()}),n);break;case"scroll":n&&function(e,t){document.addEventListener("scroll",(function n(){var r=window.pageYOffset||document.documentElement.scrollTop,o=document.documentElement.clientTop||0,i=document.documentElement.scrollHeight,a=r-o,s=a/i*100,u=a+window.innerHeight>=i;(s>=e||u)&&(t(),document.removeEventListener("scroll",n))}))}(n,e)}}},553:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createIframe=void 0;var r=n(626),o=n(866),i=n(554),a=n(256);t.createIframe=function(e,t,n){var s=o.generateEmbedId(),u=r.buildIframeSrc({formId:e,embedId:s,type:t,options:n}),c=document.createElement("iframe");return c.src=u,c.dataset.testid="iframe",c.addEventListener("load",a.triggerIframeRedraw,{once:!0}),window.addEventListener("message",i.getFormReadyHandler(s,n)),window.addEventListener("message",i.getFormQuestionChangedHandler(s,n)),window.addEventListener("message",i.getFormSubmitHandler(s,n)),c}},866:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateEmbedId=void 0,t.generateEmbedId=function(){var e=Math.random();return String(e).split(".")[1]}},554:function(e,t){function n(e,t,n,r){return void 0===r&&(r=function(){}),function(o){if(o.data.type===e&&o.data.embedId===t){var i=r(o);null==n||n(i)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFormEventHandler=t.getFormSubmitHandler=t.getFormQuestionChangedHandler=t.getFormReadyHandler=void 0,t.getFormReadyHandler=function(e,t){return n("form-ready",e,t.onReady)},t.getFormQuestionChangedHandler=function(e,t){return n("form-screen-changed",e,t.onQuestionChanged)},t.getFormSubmitHandler=function(e,t){return n("form-submit",e,t.onSubmit,(function(e){var t;return{responseId:null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.response_id}}))},t.getFormEventHandler=n},339:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(553),t)},256:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.triggerIframeRedraw=void 0,t.triggerIframeRedraw=function(){this.style.transform="translateZ(0)"}},698:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitiveSearchParams=void 0,t.getTransitiveSearchParams=function(e){var t=new URL(window.location.href),n={};return e&&e.length>0&&e.forEach((function(e){t.searchParams.has(e)&&(n[e]=t.searchParams.get(e))})),n}},252:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasDom=void 0,t.hasDom=function(){return"undefined"!=typeof document&&"undefined"!=typeof window}},71:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.includeCss=void 0,t.includeCss=function(e){var t=function(e){return"https://embed.typeform.com/next/css/"+e}(e);if(!document.querySelector('link[href="'+t+'"]')){var n=document.createElement("link");n.rel="stylesheet",n.href=t,document.head.append(n)}}},747:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(626),t),o(n(339),t),o(n(252),t),o(n(71),t),o(n(346),t),o(n(377),t),o(n(527),t)},346:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=void 0,t.isDefined=function(e){return null!=e}},377:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.loadOptionsFromAttributes=t.transformAttributeValue=t.camelCaseToKebabCase=void 0,t.camelCaseToKebabCase=function(e){return e.split("").map((function(e,t){return e.toUpperCase()===e?(0!==t?"-":"")+e.toLowerCase():e})).join("")},t.transformAttributeValue=function(e,t){switch(t){case"string":return function(e){return e||void 0}(e);case"boolean":return function(e){return""===e||"yes"===e||"true"===e}(e);case"integer":return function(e){var t=e?parseInt(e,10):NaN;return isNaN(t)?void 0:t}(e);case"function":return function(e){var t=e&&e in window?window[e]:void 0;return"function"==typeof t?t:void 0}(e);case"array":return function(e){if(e)return null==e?void 0:e.replace(/\s/g,"").split(",").filter((function(e){return!!e}))}(e);case"record":return function(e){if(e)return e.split(",").filter((function(e){return!!e})).reduce((function(e,t){var r,o=t.match(/^([^=]+)=(.*)$/);if(o){var i=o[1],a=o[2];return n(n({},e),((r={})[i.trim()]=a,r))}return e}),{})}(e);default:throw new Error("Invalid attribute transformation "+t)}},t.loadOptionsFromAttributes=function(e,r){return Object.keys(r).reduce((function(o,i){var a;return n(n({},o),((a={})[i]=t.transformAttributeValue(e.getAttribute("data-tf-"+t.camelCaseToKebabCase(i)),r[i]),a))}),{})}},527:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.removeUndefinedKeys=void 0;var o=n(346);t.removeUndefinedKeys=function(e){return Object.entries(e).filter((function(e){var t=e[1];return o.isDefined(t)})).reduce((function(e,t){var n,o=t[0],i=t[1];return r(r({},e),((n={})[o]=i,n))}),{})}}},t={};return function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(920)}()})));const Qt=({formId:e,hideFooter:t,hideHeaders:n,opacity:r,height:o,width:i,medium:a="embed-wp-admin"})=>{const s=wp.element.useRef();return wp.element.useEffect(()=>{s&&s.current&&Vt.createWidget(e,{medium:a,container:s.current,hideFooter:t,hideHeaders:n,opacity:r})},[s]),wp.element.createElement("div",{style:{height:o,width:i},ref:s,id:"typeform-widget-"+e})},Xt=({hideFooter:e,hideHeaders:t,formId:n,popupMode:r,buttonText:o,medium:i="embed-wp-admin"})=>wp.element.createElement("button",{onClick:()=>{const o=rn.filter(e=>e.mode===r)[0].method,{toggle:a}=Vt[o](n,{medium:i,hideFooter:e,hideHeaders:t});a()}},o);class en extends wp.element.Component{render(){const{format:e}=this.props.attributes;return wp.element.createElement(wp.element.Fragment,null,e===on?wp.element.createElement(Qt,Object.assign({},this.props.attributes)):wp.element.createElement(Xt,Object.assign({},this.props.attributes)))}}const{ToggleControl:tn}=wp.components;class nn extends wp.element.Component{constructor(e={active:!1,label:"",onToggle:()=>null}){super(e)}onToggle(){this.props.onToggle(!this.props.active)}render(){return wp.element.createElement("div",{className:"typeform-toggle"},wp.element.createElement(tn,{label:this.props.label,checked:this.props.active,onChange:()=>this.onToggle()}))}}const rn=[{title:"Popup",mode:"popup",method:"createPopup"},{title:"Popover",mode:"popover",method:"createPopover"},{title:"Slider",mode:"slider",method:"createSlider"},{title:"Side Tab",mode:"sidetab",method:"createSidetab"}],on="standard",{PanelRow:an}=wp.components;class sn extends wp.element.Component{resetProps(){this.props.setAttributes({popupMode:"popup",popupAutoOpen:!1,popupAutoClose:!1,buttonText:"Launch me",hideScrollbars:!1,hideFooter:!1,hideHeaders:!1})}updateProp(e,t){const n={};n[e]=t,this.props.setAttributes(n)}render(){return wp.element.createElement("div",{className:"typeform-popup-embed components-base-control"},wp.element.createElement(an,null,wp.element.createElement("p",null,"Launch a typeform as a popup when someone clicks your button")),wp.element.createElement(an,null,wp.element.createElement("div",null,wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"pop-up-modes-selector"},"Pop up mode"),wp.element.createElement("select",{id:"pop-up-modes-selector",value:this.props.attributes.popupMode,onChange:e=>this.updateProp("popupMode",e.target.value)},rn.map(e=>wp.element.createElement("option",{value:e.mode},e.title)))),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"button-text"},"Button Text"),wp.element.createElement("input",{type:"text",id:"button-text",placeholder:"Launch me",value:this.props.attributes.buttonText,onChange:e=>this.updateProp("buttonText",e.target.value)})))),wp.element.createElement(an,null,wp.element.createElement("div",null,wp.element.createElement(nn,{active:this.props.attributes.popupAutoOpen,onToggle:e=>this.updateProp("popupAutoOpen",e),label:"Launch popup automatically"}),wp.element.createElement(nn,{active:this.props.attributes.hideScrollbars,onToggle:e=>this.updateProp("hideScrollbars",e),label:"Hide scrollbar"}),wp.element.createElement(nn,{active:this.props.attributes.hideFooter,onToggle:e=>this.updateProp("hideFooter",e),label:"Hide footer"}),wp.element.createElement(nn,{active:this.props.attributes.hideHeaders,onToggle:e=>this.updateProp("hideHeaders",e),label:"Hide header"}),wp.element.createElement(nn,{active:this.props.attributes.popupAutoClose,onToggle:e=>this.updateProp("popupAutoClose",e),label:"Close on completion"}))),wp.element.createElement(an,null,wp.element.createElement("button",{onClick:()=>this.resetProps()},"Reset")))}}const{PanelRow:un}=wp.components;class cn extends wp.element.Component{constructor(e,t){super(e),this._options=t}handleChange(e){this.props.setAttributes({format:e.value})}render(){return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("div",{className:"typeform-segment-bar"},wp.element.createElement(un,null,wp.element.createElement("div",null,wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"form-options"},"Typeform embedding"),wp.element.createElement("div",{id:"form-options"},this._options.map(e=>wp.element.createElement("div",{onClick:this.handleChange.bind(this,e),className:""+(this.props.attributes.format===e.value?"active":"inactive")},wp.element.createElement("div",null,e.title)))))))))}}const ln=e=>{const t=[0,"px"],n=e.split(/(\d+)/).filter(Boolean);return dn(String(n[0]))&&(t[0]=Number(n[0])),fn(String(n[1]))&&(t[1]=String(n[1])),t},fn=e=>/^(%|px)$/.test(e),dn=e=>/^[+-]?[0-9]+.?([0-9]+)$/.test(e),{PanelRow:pn}=wp.components,hn=["px","%"];class mn extends wp.element.Component{resetProps(){this.props.setAttributes({height:"500px",width:"100%",opacity:100,hideScrollbars:!1,hideFooter:!1,hideHeaders:!1})}updateProp(e,t){const n={};n[e]=t,this.props.setAttributes(n)}updateSize(e,t){switch(e){case"width":case"height":if(dn(t)){const[n,r]=ln(this.props.attributes[e]);this.updateProp(e,t)}break;case"widthF":case"heightF":if(fn(t)){const[n,r]=ln(this.props.attributes[e.replace("F","")]);this.updateProp(e.replace("F",""),n+t)}}}render(){const[e,t]=ln(this.props.attributes.height),[n,r]=ln(this.props.attributes.width);return wp.element.createElement("div",{className:"typeform-widget-embed components-base-control"},wp.element.createElement(pn,null,wp.element.createElement("p",null,"Great for loading a typeform on your web page anywhere you want")),wp.element.createElement(pn,null,wp.element.createElement("div",null,wp.element.createElement("div",{className:"standard-width"},wp.element.createElement("label",{htmlFor:"width"},"Width"),wp.element.createElement("div",{className:"form-inline"},wp.element.createElement("input",{className:"standard-editor",type:"number",id:"width",value:n,onChange:e=>this.updateSize("width",e.target.value)}),wp.element.createElement("select",{className:"standard-editor",value:r,onChange:e=>this.updateSize("widthF",e.target.value)},hn.map(e=>wp.element.createElement("option",{value:e},e))))),wp.element.createElement("div",{className:"standard-height"},wp.element.createElement("label",{htmlFor:"height"},"Height"),wp.element.createElement("div",{className:"form-inline"},wp.element.createElement("input",{className:"standard-editor",type:"number",id:"height",value:e,onChange:e=>this.updateSize("height",e.target.value)}),wp.element.createElement("select",{className:"standard-editor",value:t,onChange:e=>this.updateSize("heightF",e.target.value)},hn.map(e=>wp.element.createElement("option",{value:e},e))))))),wp.element.createElement(pn,null,wp.element.createElement("div",null,wp.element.createElement(nn,{active:this.props.attributes.hideScrollbars,onToggle:e=>this.updateProp("hideScrollbars",e),label:"Hide scrollbar"}),wp.element.createElement(nn,{active:this.props.attributes.hideFooter,onToggle:e=>this.updateProp("hideFooter",e),label:"Hide footer"}),wp.element.createElement(nn,{active:this.props.attributes.hideHeaders,onToggle:e=>this.updateProp("hideHeaders",e),label:"Hide header"}))),wp.element.createElement(pn,null,wp.element.createElement("button",{onClick:()=>this.resetProps()},"Reset")))}}const{TextControl:vn,PanelRow:yn}=wp.components,wn=[{title:"Standard",value:"standard",component:mn},{title:"Popup",value:"popup",component:sn}];class gn extends wp.element.Component{get activeComponent(){return(wn.find(e=>e.value===this.props.attributes.format)||wn[0]).component}updateProp(t,n){const r={};r[t]=n,"url"===t&&this.props.setAttributes({formId:e(n)}),this.props.setAttributes(r)}render(){return wp.element.createElement("div",{className:"typeform-settings-panel"},wp.element.createElement(yn,null,wp.element.createElement(vn,{label:"Typeform URL",value:this.props.attributes.url,onChange:e=>this.updateProp("url",e)})),wp.element.createElement(yn,{className:"no-margin"},wp.element.createElement(Jt,{onURL:e=>this.updateProp("url",e)})),wp.element.createElement(yn,null,new cn(this.props,wn).render()),wp.element.createElement(yn,null,new this.activeComponent(this.props).render()))}}const{InspectorControls:bn,BlockControls:_n}=wp.editor,{PanelBody:En,Toolbar:On,IconButton:Sn}=wp.components;class Cn extends wp.element.Component{constructor(){super(...arguments),this.state={admin:!0}}openSettings(){wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}updateProp(e,t){const n={};n[e]=t,this.props.setAttributes(n)}updateState(e,t){const n={};n[e]=t,this.setState(n)}render(){return[wp.element.createElement(_n,null,wp.element.createElement(On,null,wp.element.createElement(Sn,{label:"Show Block Settings",icon:"admin-generic",onClick:()=>this.openSettings()}))),wp.element.createElement(bn,null,wp.element.createElement(En,null,new gn(this.props).render())),wp.element.createElement("div",{className:"typeform-editor"},wp.element.createElement("div",null,wp.element.createElement("span",{className:"admin-button",onClick:()=>this.updateState("admin",!this.state.admin)},wp.element.createElement("span",{className:"dashicons "+(this.state.admin?"dashicons-visibility":"dashicons-admin-generic")}),wp.element.createElement("span",null,this.state.admin?"View Typeform":"Edit Typeform"))),this.state.admin?wp.element.createElement("div",{className:"typeform-editor-settings"},new gn(this.props).render()):wp.element.createElement(en,Object.assign({},this.props)))]}}wp.blocks.registerBlockType("typeform/embed-plugin",{title:"Typeform",description:"Create beautiful online forms, surveys, quizzes, and much more.",icon:Kt,category:"common",attributes:{url:{type:"string",default:"https://www.typeform.com"},formId:{type:"string",default:null},format:{type:"string",default:"standard"},height:{type:"string",default:"500px"},width:{type:"string",default:"100%"},opacity:{type:"number",default:100},popupMode:{type:"string",default:"popup"},popupAutoOpen:{type:"boolean",default:!1},popupAutoClose:{type:"boolean",default:!1},buttonText:{type:"string",default:"Launch me"},hideScrollbars:{type:"boolean",default:!1},hideFooter:{type:"boolean",default:!1},hideHeaders:{type:"boolean",default:!1}},edit:t=>{var n;return(null===(n=t.attributes)||void 0===n?void 0:n.url)&&t.setAttributes({formId:e(t.attributes.url)}),new Cn(t)},save:e=>(e=>{var t,n,r,o;const{hideFooter:i,hideHeaders:a,formId:s,opacity:u,height:c,width:l}=e.attributes;if("popup"===(null===(t=e.attributes)||void 0===t?void 0:t.format)){const t={["data-tf-"+(null===(n=e.attributes)||void 0===n?void 0:n.popupMode)]:s};return wp.element.createElement("button",Object.assign({},t,{"data-tf-medium":"embed-wordpress","data-tf-opacity":u||null,"data-tf-hide-headers":a||null,"data-tf-hide-footer":i||null}),null===(r=e.attributes)||void 0===r?void 0:r.buttonText)}return(null===(o=e.attributes)||void 0===o?void 0:o.format)===on?wp.element.createElement("div",{"data-tf-hide-headers":a||null,"data-tf-hide-footer":i||null,"data-tf-opacity":u||null,"data-tf-medium":"embed-wordpress","data-tf-widget":s,style:{height:c,width:l},id:"widget"}):null})(e)})}();
